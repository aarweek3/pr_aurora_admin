TZ: Aurora Health Monitor Ultimate (v1.0)

üìë MASTER TZ: Aurora Health Monitor Ultimate (v1.0)

1. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
   –°–∏—Å—Ç–µ–º–∞ HealthMonitor ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –∫–æ—Ç–æ—Ä—ã–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å–ª–µ–¥–∏—Ç –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (API, –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è) –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —á–µ—Ä–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å
   LoggerConsole
   .

2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
   –í—Å–µ —Ñ–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∞–ø–∫–µ: src/app/shared/health/

text
src/app/shared/health/
‚îú‚îÄ‚îÄ models/
‚îÇ ‚îî‚îÄ‚îÄ health.model.ts # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ C# –º–æ–¥–µ–ª—è–º + UI —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ services/
‚îÇ ‚îî‚îÄ‚îÄ health.service.ts # Core: rxResource, –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–æ—Å–∞, Signals
‚îú‚îÄ‚îÄ components/
‚îÇ ‚îú‚îÄ‚îÄ health-indicator/ # –ú–∞–ª–µ–Ω—å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç "3 –∫—Ä—É–∂–∫–∞ + –ü–∏–Ω–≥"
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ health-indicator.component.ts
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ health-indicator.component.html
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ health-indicator.component.scss
‚îÇ ‚îî‚îÄ‚îÄ health-panel-details/ # –û–∫–Ω–æ —Å —Ç–∞–±–∞–º–∏ (Overview, Infra, Auth, Network)
‚îÇ ‚îú‚îÄ‚îÄ health-panel-details.component.ts
‚îÇ ‚îú‚îÄ‚îÄ health-panel-details.component.html
‚îÇ ‚îî‚îÄ‚îÄ health-panel-details.component.scss 3. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (health.model.ts)
typescript
/** –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –∏–∑ –±—ç–∫–µ–Ω–¥–∞ (C# HealthStatus enum) \*/
export type SystemStatus = 'Healthy' | 'Degraded' | 'Unhealthy';
/** –û–¥–∏–Ω–æ—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑ Backend _/
export interface HealthCheckItem {
name: string; // –ù–∞–∑–≤–∞–Ω–∏–µ (sql_server, identity, etc)
status: SystemStatus; // –°–æ—Å—Ç–æ—è–Ω–∏–µ
duration: number; // –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (ms)
description?: string; // –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–∫–∏
}
/\*\* –ü–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç HealthCheckController _/
export interface HealthCheckResponse {
status: SystemStatus;
checks: HealthCheckItem[];
}
/\*_ –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è UI-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ _/
export interface HealthState {
api: SystemStatus;
db: SystemStatus;
auth: SystemStatus;
latency: number; // –ü–∏–Ω–≥ –¥–æ —Å–µ—Ä–≤–µ—Ä–∞
latencyTrend: 'up' | 'down' | 'stable'; // –¢—Ä–µ–Ω–¥ –∑–∞–¥–µ—Ä–∂–∫–∏
} 4. –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã (Service Layer)
4.1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ rxResource
–¢—Ä–∏–≥–≥–µ—Ä: RxJS timer(0, 60000) (–æ–ø—Ä–æ—Å —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É).
–ó–∞–ø—Ä–æ—Å: GET /api/HealthCheck.
–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–µ—Ä–∂–∫–∏: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ Duration —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞ (—Å—Ç—Ä–µ–ª–æ—á–∫–∞).
–£–º–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
–ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏–ª—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, Healthy -> Unhealthy), —Å–µ—Ä–≤–∏—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—ã–∑–æ–≤:
logger.error('System is Unhealthy!', response) ‚Äî —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ LoggerConsole. 5. UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
5.1. HealthIndicator ("3 –ö—Ä—É–∂–∫–∞")
–†–∞–∑–º–µ—â–∞–µ—Ç—Å—è –≤ GlobalStatusBar –∏–ª–∏ —Ä—è–¥–æ–º —Å –∫–Ω–æ–ø–∫–æ–π –∫–æ–Ω—Å–æ–ª–∏.
–í–∏–¥:
[ üü¢ üü¢ üü¢ ] 42ms ‚ÜóÔ∏è
–õ–æ–≥–∏–∫–∞ —Ü–≤–µ—Ç–æ–≤:
API: –°—Ç–∞—Ç—É—Å HTTP –æ—Ç–≤–µ—Ç–∞.
DB: –ò—â–µ–º –≤ checks —ç–ª–µ–º–µ–Ω—Ç —Å —Ç—ç–≥–æ–º sql / db.
Auth: –°—Ç–∞—Ç—É—Å Identity + –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å JWT —Ç–æ–∫–µ–Ω–∞.
–ö–ª–∏–∫: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –ø–∞–Ω–µ–ª—å —Å —Ç–∞–±–∞–º–∏.
5.2. HealthPanelDetails (–¢–∞–±—ã)
Overview: –û–±—â–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ "All Systems Operational".
Infra: –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏–∑ –ë—ç–∫–µ–Ω–¥–∞ (Name, Status, Duration, Description).
Auth: –î–µ—Ç–∞–ª–∏ —Ç–æ–∫–µ–Ω–∞ (–≤—Ä–µ–º—è –¥–æ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏, —Ç–µ–∫—É—â–∏–µ —Ä–æ–ª–∏).
Network: –ú–∏–Ω–∏-–≥—Ä–∞—Ñ–∏–∫ (sparkline) –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–¥–µ—Ä–∂–µ–∫. 6. –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (Definition of Done)
–≠—Ç–∞–ø 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ src/app/shared/health.
–û–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ health.model.ts.
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å HealthService —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º rxResource (Angular 19).
–ü–æ–¥–∫–ª—é—á–∏—Ç—å environment.api.baseUrl –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—É—Ç–∏ –∫ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É.
–≠—Ç–∞–ø 2: –õ–æ–≥–∏–∫–∞ –∏ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç —Ç—Ä–µ–Ω–¥–∞ –∑–∞–¥–µ—Ä–∂–∫–∏ ( latency trend).
–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å LoggerConsoleService: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞.
–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–∫–∏ 503 (—á—Ç–æ–±—ã —Å–µ—Ä–≤–∏—Å –Ω–µ "–ø–∞–¥–∞–ª", –∞ —á–∏—Ç–∞–ª JSON –æ—Ç–≤–µ—Ç–∞).
–≠—Ç–∞–ø 3: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (Mini)
–°–æ–∑–¥–∞—Ç—å HealthIndicatorComponent (—Ç—Ä–∏ –∫—Ä—É–∂–∫–∞).
–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é "–ø—É–ª—å—Å–∞—Ü–∏–∏" –¥–ª—è –∫—Ä—É–∂–∫–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞.
–í–Ω–µ–¥—Ä–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ GlobalStatusBar (—Ä—è–¥–æ–º —Å –∫–Ω–æ–ø–∫–æ–π –∫–æ–Ω—Å–æ–ª–∏).
–≠—Ç–∞–ø 4: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (Full)
–°–æ–∑–¥–∞—Ç—å HealthPanelDetailsComponent —Å –º–µ—Ö–∞–Ω–∏–∑–º–æ–º —Ç–∞–±–æ–≤.
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (Infra Tab).
–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É JWT —Ç–æ–∫–µ–Ω–∞ –≤ Tab Auth.
–û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å sparkline –≥—Ä–∞—Ñ–∏–∫ (Network Tab) ‚Äî –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–æ–π CSS/SVG.

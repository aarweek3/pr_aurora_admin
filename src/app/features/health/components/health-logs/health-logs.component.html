<div class="logs-container">
  <div class="logs-actions">
    <div class="search-box">
      <input
        type="text"
        [ngModel]="searchQuery()"
        (ngModelChange)="searchQuery.set($event)"
        placeholder="–ü–æ–∏—Å–∫ –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É –∏–ª–∏ —Å—Ç–∞—Ç—É—Å—É..."
      />
    </div>

    <div class="filters">
      <select [ngModel]="filterSeverity()" (ngModelChange)="filterSeverity.set($event)">
        <option value="all">–í—Å–µ —É—Ä–æ–≤–Ω–∏</option>
        <option value="success">–£—Å–ø–µ—à–Ω—ã–µ</option>
        <option value="warning">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è</option>
        <option value="error">–û—à–∏–±–∫–∏</option>
      </select>

      <button class="refresh-btn" (click)="loadLogs()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏</button>
    </div>
  </div>

  <div class="logs-table-wrapper">
    <table class="logs-table">
      <thead>
        <tr>
          <th>–í–†–ï–ú–Ø</th>
          <th>–≠–ù–î–ü–û–ò–ù–¢</th>
          <th>–°–¢–ê–¢–£–°</th>
          <th>–û–¢–í–ï–¢</th>
          <th>–¢–û–ö–ï–ù</th>
          <th>IP</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let log of filteredLogs()" [class]="getStatusClass(log)">
          <td class="time">
            {{ log.timestamp | date : 'HH:mm:ss' }} <small>{{ log.timestamp | date : 'dd.MM' }}</small>
          </td>
          <td class="endpoint">
            <code>{{ log.endpoint }}</code>
          </td>
          <td class="status">
            <span class="badge">{{ translateStatus(log.status) }}</span>
          </td>
          <td class="duration" [class.slow]="log.durationMs > 500">{{ log.durationMs }}–º—Å</td>
          <td class="token">
            <span *ngIf="log.hasAccessToken" title="–î–µ–π—Å—Ç–≤—É—é—â–∏–π —Ç–æ–∫–µ–Ω">üîë</span>
            <span *ngIf="!log.hasAccessToken" class="no-token">‚ùå</span>
            <small *ngIf="log.tokenFingerprint" class="fingerprint">{{ log.tokenFingerprint }}</small>
          </td>
          <td class="ip">{{ log.clientIp || '–ª–æ–∫–∞–ª—å–Ω–æ' }}</td>
        </tr>

        <tr *ngIf="filteredLogs().length === 0">
          <td colspan="6" class="no-data">–õ–æ–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

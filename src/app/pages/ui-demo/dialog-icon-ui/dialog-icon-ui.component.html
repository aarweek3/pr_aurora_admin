<div class="ui-demo dialog-icon-playground">
  <!-- Header -->
  <div class="ui-demo__header">
    <h1>Dialog Icon UI üí¨</h1>
    <p>–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –∫—Ä—É–ø–Ω—ã–º–∏ –∏–∫–æ–Ω–∫–∞–º–∏ –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º.</p>
  </div>

  <!-- Interactive Playground -->
  <div class="playground-container">
    <div nz-row [nzGutter]="32">
      <!-- Left: Controls -->
      <div nz-col [nzXs]="24" [nzLg]="10">
        <nz-card nzTitle="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∏–∞–ª–æ–≥–∞" [nzExtra]="resetTpl">
          <ng-template #resetTpl>
            <button av-button avType="text" avSize="small" (click)="resetAllSettings()" style="color: #ff4d4f">
              –°–±—Ä–æ—Å–∏—Ç—å
            </button>
          </ng-template>

          <div class="control-panel">
            <!-- 1. Content -->
            <div class="control-item">
              <label nz-tooltip nzTooltipTitle="–ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–∏–∞–ª–æ–≥–∞"> –ó–∞–≥–æ–ª–æ–≤–æ–∫: <span class="info-icon">‚ìò</span> </label>
              <input
                nz-input
                [ngModel]="pgTitle()"
                (ngModelChange)="pgTitle.set($event)"
                placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫"
              />
            </div>

            <div class="control-item">
              <label nz-tooltip nzTooltipTitle="–û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞">
                –°–æ–æ–±—â–µ–Ω–∏–µ: <span class="info-icon">‚ìò</span>
              </label>
              <textarea
                nz-input
                [ngModel]="pgMessage()"
                (ngModelChange)="pgMessage.set($event)"
                placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
                [rows]="3"
              ></textarea>
            </div>

            <!-- 2. Icon Configuration -->
            <div
              style="
                background: #f9f9f9;
                border: 1px solid #e8e8e8;
                border-radius: 8px;
                padding: 16px;
                margin-bottom: 20px;
              "
            >
              <div class="control-item" style="margin-bottom: 12px">
                <label nz-tooltip nzTooltipTitle="–í—ã–±–µ—Ä–∏—Ç–µ –∏–∫–æ–Ω–∫—É –¥–ª—è –¥–∏–∞–ª–æ–≥–∞">
                  –ò–∫–æ–Ω–∫–∞: <span class="info-icon">‚ìò</span>
                </label>

                <!-- Icon Presets -->
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 12px">
                  @for (preset of iconPresets; track preset.value) {
                  <button
                    av-button
                    avType="default"
                    avSize="small"
                    [avBlock]="true"
                    (click)="selectIconPreset(preset)"
                    [style.border-color]="pgIcon() === preset.value ? preset.color : undefined"
                    [style.background]="pgIcon() === preset.value ? preset.color + '15' : undefined"
                  >
                    <app-icon [type]="preset.value" [size]="16" [color]="preset.color"></app-icon>
                    <span style="margin-left: 8px; font-size: 11px">{{ preset.label.split(' ')[0] }}</span>
                  </button>
                  }
                </div>

                <nz-select [ngModel]="pgIcon()" (ngModelChange)="pgIcon.set($event)" style="width: 100%">
                  @for (preset of iconPresets; track preset.value) {
                  <nz-option [nzValue]="preset.value" [nzLabel]="preset.label"></nz-option>
                  }
                </nz-select>
              </div>

              <!-- Icon Size -->
              <div class="control-item" style="margin-bottom: 12px">
                <label nz-tooltip nzTooltipTitle="–†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–∫–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö">
                  –†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–∫–∏: <span class="info-icon">‚ìò</span>
                </label>
                <div nz-row [nzGutter]="12" nzAlign="middle">
                  <div nz-col nzFlex="auto">
                    <nz-slider
                      [nzMin]="32"
                      [nzMax]="128"
                      [ngModel]="pgIconSize()"
                      (ngModelChange)="pgIconSize.set($event)"
                    ></nz-slider>
                  </div>
                  <div nz-col style="width: 70px">
                    <nz-input-number
                      style="width: 100%"
                      [nzMin]="32"
                      [nzMax]="128"
                      [ngModel]="pgIconSize()"
                      (ngModelChange)="pgIconSize.set($event)"
                    ></nz-input-number>
                  </div>
                </div>
              </div>

              <!-- Icon Color -->
              <div class="control-item" style="margin-bottom: 0">
                <label nz-tooltip nzTooltipTitle="–¶–≤–µ—Ç –∏–∫–æ–Ω–∫–∏"> –¶–≤–µ—Ç –∏–∫–æ–Ω–∫–∏: <span class="info-icon">‚ìò</span> </label>
                <div style="display: flex; flex-direction: column; gap: 10px">
                  <div style="display: flex; gap: 8px; align-items: center; flex-wrap: wrap">
                    @for (color of colorPresets; track color) {
                    <div
                      class="color-preset"
                      [style.background-color]="color"
                      [class.active]="pgIconColor() === color"
                      (click)="pgIconColor.set(color)"
                      [nz-tooltip]="color"
                    ></div>
                    }
                  </div>
                  <div style="display: flex; gap: 8px; align-items: center">
                    <nz-color-picker
                      [ngModel]="pgIconColor()"
                      (ngModelChange)="pgIconColor.set($event)"
                    ></nz-color-picker>
                    <input
                      nz-input
                      [ngModel]="pgIconColor()"
                      (ngModelChange)="pgIconColor.set($event)"
                      placeholder="HEX, RGB..."
                      style="flex: 1; height: 32px"
                    />
                  </div>
                </div>
              </div>
            </div>

            <!-- 3. Button Configuration -->
            <div class="control-item">
              <label nz-tooltip nzTooltipTitle="–¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è">
                –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: <span class="info-icon">‚ìò</span>
              </label>
              <input
                nz-input
                [ngModel]="pgConfirmText()"
                (ngModelChange)="pgConfirmText.set($event)"
                placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"
              />
            </div>

            <div class="control-item">
              <label nz-tooltip nzTooltipTitle="–¢–∏–ø –∫–Ω–æ–ø–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è">
                –¢–∏–ø –∫–Ω–æ–ø–∫–∏: <span class="info-icon">‚ìò</span>
              </label>
              <nz-select [ngModel]="pgConfirmType()" (ngModelChange)="pgConfirmType.set($event)" style="width: 100%">
                <nz-option nzValue="primary" nzLabel="Primary (–°–∏–Ω–∏–π)"></nz-option>
                <nz-option nzValue="default" nzLabel="Default (–°–µ—Ä—ã–π)"></nz-option>
                <nz-option nzValue="danger" nzLabel="Danger (–ö—Ä–∞—Å–Ω—ã–π)"></nz-option>
              </nz-select>
            </div>

            <div class="control-item">
              <label nz-tooltip nzTooltipTitle="–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –æ—Ç–º–µ–Ω—ã">
                –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É –æ—Ç–º–µ–Ω—ã: <span class="info-icon">‚ìò</span>
              </label>
              <div style="display: flex; align-items: center; justify-content: space-between">
                <input
                  nz-input
                  [ngModel]="pgCancelText()"
                  (ngModelChange)="pgCancelText.set($event)"
                  placeholder="–û—Ç–º–µ–Ω–∞"
                  style="flex: 1; margin-right: 12px"
                  [disabled]="!pgShowCancelButton()"
                />
                <nz-switch
                  [ngModel]="pgShowCancelButton()"
                  (ngModelChange)="pgShowCancelButton.set($event)"
                ></nz-switch>
              </div>
            </div>

            <!-- 4. Dialog Settings -->
            <div class="control-item">
              <label nz-tooltip nzTooltipTitle="–†–∞–∑–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞">
                –†–∞–∑–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞: <span class="info-icon">‚ìò</span>
              </label>
              <nz-select [ngModel]="pgSize()" (ngModelChange)="pgSize.set($event)" style="width: 100%">
                <nz-option nzValue="small" nzLabel="Small (400px)"></nz-option>
                <nz-option nzValue="medium" nzLabel="Medium (450px)"></nz-option>
                <nz-option nzValue="large" nzLabel="Large (600px)"></nz-option>
              </nz-select>
            </div>

            <div class="control-item">
              <label nz-tooltip nzTooltipTitle="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —à–∏—Ä–∏–Ω–∞ –¥–∏–∞–ª–æ–≥–∞">
                –®–∏—Ä–∏–Ω–∞ (Custom): <span class="info-icon">‚ìò</span>
              </label>
              <input
                nz-input
                [ngModel]="pgWidth()"
                (ngModelChange)="pgWidth.set($event)"
                placeholder="e.g. 450px or 80%"
              />
            </div>

            <!-- 5. States -->
            <div class="states-box">
              <div nz-row [nzGutter]="16">
                <div nz-col [nzSpan]="12">
                  <div class="state-switch">
                    <span>Backdrop</span>
                    <nz-switch
                      [ngModel]="pgShowBackdrop()"
                      (ngModelChange)="pgShowBackdrop.set($event)"
                      nzSize="small"
                    ></nz-switch>
                  </div>
                </div>
                <div nz-col [nzSpan]="12">
                  <div class="state-switch">
                    <span>Close Button</span>
                    <nz-switch
                      [ngModel]="pgShowCloseButton()"
                      (ngModelChange)="pgShowCloseButton.set($event)"
                      nzSize="small"
                    ></nz-switch>
                  </div>
                </div>
                <div nz-col [nzSpan]="12">
                  <div class="state-switch">
                    <span>Close on Backdrop</span>
                    <nz-switch
                      [ngModel]="pgCloseOnBackdrop()"
                      (ngModelChange)="pgCloseOnBackdrop.set($event)"
                      nzSize="small"
                    ></nz-switch>
                  </div>
                </div>
                <div nz-col [nzSpan]="12">
                  <div class="state-switch">
                    <span>Close on Esc</span>
                    <nz-switch
                      [ngModel]="pgCloseOnEsc()"
                      (ngModelChange)="pgCloseOnEsc.set($event)"
                      nzSize="small"
                    ></nz-switch>
                  </div>
                </div>
              </div>
            </div>

            <div style="margin-top: 24px">
              <button av-button avType="primary" [avBlock]="true" (click)="openDialog()">–û—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥</button>
            </div>
          </div>
        </nz-card>
      </div>

      <!-- Right: Preview & Code -->
      <div nz-col [nzXs]="24" [nzLg]="14">
        <nz-card nzTitle="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä">
          <div class="preview-area">
            <div class="dialog-preview">
              <div class="dialog-preview__icon">
                <app-icon [type]="pgIcon()" [size]="pgIconSize()" [color]="pgIconColor()"></app-icon>
              </div>
              <h3 class="dialog-preview__title">{{ pgTitle() }}</h3>
              <p class="dialog-preview__message">{{ pgMessage() }}</p>
              <div class="dialog-preview__buttons">
                @if (pgShowCancelButton()) {
                <button av-button avType="default" disabled>{{ pgCancelText() }}</button>
                }
                <button av-button [avType]="pgConfirmType()" disabled>{{ pgConfirmText() }}</button>
              </div>
            </div>
          </div>

          <div style="margin-top: 24px">
            <av-help-copy-container
              title="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥"
              [content]="pgGeneratedCode()"
              bgColor="#1e293b"
            ></av-help-copy-container>
          </div>
        </nz-card>
      </div>
    </div>
  </div>

  <!-- API Documentation -->
  <div style="margin-top: 48px">
    <div style="margin-bottom: 16px">
      <h2 style="margin: 0; font-size: 20px; font-weight: 600">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (API)</h2>
    </div>

    <nz-card class="api-docs-card">
      <av-help-copy-container
        title="Interface: DialogIconConfig"
        [content]="apiInterfaceCode"
        bgColor="#0a0e1a"
        [showHelpButton]="true"
      ></av-help-copy-container>

      <div style="margin-top: 24px; padding: 16px; background: #fffbe6; border: 1px solid #ffe58f; border-radius: 8px">
        <h4 style="margin-bottom: 8px; color: #856404">üí° –ü–æ–ª–µ–∑–Ω—ã–π —Å–æ–≤–µ—Ç</h4>
        <p style="margin: 0; font-size: 13px; color: #856404">
          –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>centered: true</code> –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ä–µ–∂–∏–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤ —Å
          –∏–∫–æ–Ω–∫–∞–º–∏. –≠—Ç–æ—Ç —Ä–µ–∂–∏–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π.
        </p>
      </div>
    </nz-card>
  </div>

  <!-- Usage Examples -->
  <div style="margin-top: 48px">
    <div style="margin-bottom: 16px">
      <h2 style="margin: 0; font-size: 20px; font-weight: 600">–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>
      <p style="margin: 8px 0 0; font-size: 14px; color: #8c8c8c">
        –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
      </p>
    </div>

    <nz-card>
      <av-help-copy-container
        title="–ü—Ä–∏–º–µ—Ä 1: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏"
        [content]="exampleSuccessCode"
        bgColor="#1e293b"
      ></av-help-copy-container>

      <div style="margin-top: 24px">
        <av-help-copy-container
          title="–ü—Ä–∏–º–µ—Ä 2: –î–∏–∞–ª–æ–≥ –æ—à–∏–±–∫–∏"
          [content]="exampleErrorCode"
          bgColor="#1e293b"
        ></av-help-copy-container>
      </div>

      <div style="margin-top: 24px">
        <av-help-copy-container
          title="–ü—Ä–∏–º–µ—Ä 3: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è"
          [content]="exampleDeleteCode"
          bgColor="#1e293b"
        ></av-help-copy-container>
      </div>

      <div style="margin-top: 24px">
        <av-help-copy-container
          title="–ü—Ä–∏–º–µ—Ä 4: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —Å –≤—ã–±–æ—Ä–æ–º"
          [content]="exampleWarningCode"
          bgColor="#1e293b"
        ></av-help-copy-container>
      </div>

      <div style="margin-top: 24px">
        <av-help-copy-container
          title="–ü—Ä–∏–º–µ—Ä 5: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥ (–±–µ–∑ –∫–Ω–æ–ø–∫–∏ –æ—Ç–º–µ–Ω—ã)"
          [content]="exampleInfoCode"
          bgColor="#1e293b"
        ></av-help-copy-container>
      </div>
    </nz-card>
  </div>

  <!-- Actual Modal Component -->
  @if (refreshTrigger()) {
  <av-modal
    [(isOpen)]="isOpen"
    [size]="pgSize()"
    [avWidth]="pgWidth()"
    [showBackdrop]="pgShowBackdrop()"
    [closeOnBackdrop]="pgCloseOnBackdrop()"
    [closeOnEsc]="pgCloseOnEsc()"
    [showCloseButton]="pgShowCloseButton()"
    [centered]="true"
  >
    <div modal-body>
      <div style="text-align: center; padding: 24px">
        <div style="margin-bottom: 16px">
          <app-icon [type]="pgIcon()" [size]="pgIconSize()" [color]="pgIconColor()"></app-icon>
        </div>
        <h3 style="margin: 16px 0 8px; font-size: 20px; font-weight: 600">{{ pgTitle() }}</h3>
        <p style="color: #8c8c8c; margin: 0">{{ pgMessage() }}</p>
      </div>
    </div>
    <div modal-footer style="text-align: center; justify-content: center; gap: 12px">
      @if (pgShowCancelButton()) {
      <button av-button avType="default" (click)="isOpen.set(false)">{{ pgCancelText() }}</button>
      }
      <button av-button [avType]="pgConfirmType()" (click)="isOpen.set(false); showMessage('–î–µ–π—Å—Ç–≤–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ!')">
        {{ pgConfirmText() }}
      </button>
    </div>
  </av-modal>
  }

  <!-- Toast Notification -->
  @if (message()) {
  <div class="message-display">
    {{ message() }}
  </div>
  }
</div>

<av-showcase [config]="showcaseConfig" [generatedCodeInput]="codeForShowcase()">
  <!-- TAB SECTION: TABS & CONTROLS -->
  <div showcase-tabs>
    <nz-tabset [nzAnimated]="false">
      <!-- 1. PLAYGROUND -->
      <nz-tab nzTitle="üéÆ Playground">
        <div class="demo-form">
          <h3 class="form-section-title">–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>

          <div class="control-group">
            <label class="control-label">–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ (%)</label>
            <div class="control-row" style="grid-template-columns: 1fr 80px">
              <nz-slider
                [nzMin]="0"
                [nzMax]="100"
                [ngModel]="config().percent"
                (ngModelChange)="updateConfig('percent', $event)"
              ></nz-slider>
              <nz-input-number
                [nzMin]="0"
                [nzMax]="100"
                [ngModel]="config().percent"
                (ngModelChange)="updateConfig('percent', $event)"
                style="width: 100%"
              ></nz-input-number>
            </div>
          </div>

          <div class="control-row">
            <div class="control-group">
              <label class="control-label">–¢–∏–ø (Type):</label>
              <nz-select [ngModel]="config().type" (ngModelChange)="updateConfig('type', $event)">
                @for (t of types; track t.value) {
                <nz-option [nzLabel]="t.label" [nzValue]="t.value"></nz-option>
                }
              </nz-select>
            </div>
            <div class="control-group">
              <label class="control-label">–°—Ç–∞—Ç—É—Å (Status):</label>
              <nz-select [ngModel]="config().status" (ngModelChange)="updateConfig('status', $event)">
                @for (s of statuses; track s.value) {
                <nz-option [nzLabel]="s.label" [nzValue]="s.value"></nz-option>
                }
              </nz-select>
            </div>
          </div>

          <h3 class="form-section-title">–í–Ω–µ—à–Ω–∏–π –≤–∏–¥ –∏ —Ü–≤–µ—Ç</h3>

          <div class="control-group">
            <label class="control-label">–†–∞–∑–º–µ—Ä (Size):</label>
            <nz-radio-group [ngModel]="config().size" (ngModelChange)="updateConfig('size', $event)">
              @for (sz of sizes; track sz.value) {
              <label nz-radio [nzValue]="sz.value">{{ sz.label }}</label>
              }
            </nz-radio-group>
          </div>

          <div class="control-group">
            <label class="control-label">–¶–≤–µ—Ç –∑–∞–ª–∏–≤–∫–∏ (Stroke Color):</label>
            <div class="gradient-toggle">
              <div nz-row [nzGutter]="16" nzAlign="middle">
                <div nz-col>
                  <nz-switch [ngModel]="useGradient()" (ngModelChange)="useGradient.set($event)"></nz-switch>
                </div>
                <div nz-col>
                  <span class="label">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥—Ä–∞–¥–∏–µ–Ω—Ç</span>
                </div>
              </div>
            </div>

            @if (useGradient()) {
            <div class="control-row" style="margin-top: 12px">
              <div class="control-group">
                <label class="control-label">–û—Ç (From):</label>
                <input type="color" [ngModel]="gradientFrom()" (ngModelChange)="gradientFrom.set($event)" nz-input />
              </div>
              <div class="control-group">
                <label class="control-label">–î–æ (To):</label>
                <input type="color" [ngModel]="gradientTo()" (ngModelChange)="gradientTo.set($event)" nz-input />
              </div>
            </div>
            }
          </div>

          <div class="control-row">
            <div class="control-group">
              <label class="control-label">–¢–æ–ª—â–∏–Ω–∞ (Stroke Width):</label>
              <nz-input-number
                [ngModel]="config().strokeWidth"
                (ngModelChange)="updateConfig('strokeWidth', $event)"
                [nzMin]="1"
                [nzMax]="50"
                placeholder="–ê–≤—Ç–æ"
                style="width: 100%"
              ></nz-input-number>
            </div>
            <div class="control-group">
              <label class="control-label">–ö—Ä–∞—è (Linecap):</label>
              <nz-select [ngModel]="config().strokeLinecap" (ngModelChange)="updateConfig('strokeLinecap', $event)">
                @for (l of linecaps; track l.value) {
                <nz-option [nzLabel]="l.label" [nzValue]="l.value"></nz-option>
                }
              </nz-select>
            </div>
          </div>

          <h3 class="form-section-title">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</h3>

          <div class="control-group">
            <label class="control-label">–ú–µ—Ç–∫–∞ (Label):</label>
            <input
              nz-input
              [ngModel]="config().label"
              (ngModelChange)="updateConfig('label', $event)"
              placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ..."
            />
          </div>

          <div class="control-row">
            <div class="control-group checkbox-group">
              <label nz-checkbox [ngModel]="config().showInfo" (ngModelChange)="updateConfig('showInfo', $event)">
                –ò–Ω—Ñ–æ/–ü—Ä–æ—Ü–µ–Ω—Ç—ã
              </label>
            </div>
            <div class="control-group checkbox-group">
              <label
                nz-checkbox
                [ngModel]="config().indeterminate"
                (ngModelChange)="updateConfig('indeterminate', $event)"
              >
                Indeterminate
              </label>
            </div>
          </div>
        </div>
      </nz-tab>

      <!-- 2. CODE -->
      <nz-tab nzTitle="üíª –ö–æ–¥">
        <div class="demo-form">
          <div class="code-block-container" style="margin-top: 0">
            <div class="code-header">
              <span>HTML Template</span>
              <button class="copy-btn" (click)="copyToClipboard(generatedCode().html)">üìã</button>
            </div>
            <pre><code>{{ generatedCode().html }}</code></pre>
          </div>

          <div class="code-block-container" style="margin-top: 24px">
            <div class="code-header">
              <span>TypeScript Logic</span>
              <button class="copy-btn" (click)="copyToClipboard(generatedCode().typescript)">üìã</button>
            </div>
            <pre><code>{{ generatedCode().typescript }}</code></pre>
          </div>
        </div>
      </nz-tab>

      <!-- 3. EXAMPLES -->
      <nz-tab nzTitle="üìö –ü—Ä–∏–º–µ—Ä—ã">
        <div class="demo-form">
          <p>
            –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–¥ –±–ª–æ–∫–æ–º –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ
            –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.
          </p>
        </div>
      </nz-tab>

      <!-- 4. API -->
      <nz-tab nzTitle="üìñ API">
        <div class="demo-form">
          <control-documentation [config]="documentationConfig"></control-documentation>
        </div>
      </nz-tab>
    </nz-tabset>
  </div>

  <!-- RESULT: LIVE PREVIEW -->
  <div showcase-result>
    <div class="preview-container">
      <div class="live-demo-wrapper">
        <av-progress
          [percent]="config().percent"
          [type]="config().type"
          [status]="config().status"
          [size]="config().size"
          [strokeColor]="finalStrokeColor()"
          [strokeWidth]="config().strokeWidth"
          [strokeLinecap]="config().strokeLinecap"
          [showInfo]="config().showInfo"
          [indeterminate]="config().indeterminate"
          [label]="config().label"
          [gapDegree]="config().gapDegree"
          [visible]="config().visible"
        >
        </av-progress>
      </div>

      <div class="preview-actions" style="margin-top: 48px">
        <button
          av-button
          [avType]="isSimulating() ? 'danger' : 'primary'"
          (clicked)="toggleSimulation()"
          [avBlock]="true"
          style="min-width: 250px"
        >
          <av-icon [type]="isSimulating() ? 'close' : 'play-circle'" [size]="18"></av-icon>
          <span style="margin-left: 10px">{{ isSimulating() ? '–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å' : '–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é' }}</span>
        </button>
      </div>
    </div>
  </div>

  <!-- RESULT: DESCRIPTION -->
  <div showcase-description>
    <div class="dialog-info">
      <span class="info-title">üëÅÔ∏è –¢–µ–∫—É—â–∏–π —Å—Ç–µ–π—Ç:</span>
      <span class="info-item"
        >–ü—Ä–æ—Ü–µ–Ω—Ç: <strong>{{ config().percent }}%</strong></span
      >
      <span class="info-item"
        >–¢–∏–ø: <strong>{{ config().type }}</strong></span
      >
      <span class="info-item"
        >–°—Ç–∞—Ç—É—Å: <strong>{{ config().status }}</strong></span
      >
      <span class="info-item"
        >–†–µ–∂–∏–º: <strong>{{ config().indeterminate ? '–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π' : '–û–±—ã—á–Ω—ã–π' }}</strong></span
      >
    </div>
  </div>

  <!-- USAGE EXAMPLES (Bottom Section) -->
  <div showcase-examples>
    <div class="demo-form">
      <div class="example-grid">
        <!-- 1. Linear Sizes -->
        <div class="example-block">
          <h4>1. –õ–∏–Ω–µ–π–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å (–†–∞–∑–º–µ—Ä—ã)</h4>
          <p>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã –≤—ã—Å–æ—Ç—ã: <code>small</code>, <code>default</code>, <code>large</code>.</p>
          <div class="example-preview column-stack">
            <div class="preview-item">
              <span class="label">Small (6px)</span>
              <av-progress [percent]="30" size="small"></av-progress>
            </div>
            <div class="preview-item">
              <span class="label">Default (10px)</span>
              <av-progress [percent]="50" size="default"></av-progress>
            </div>
            <div class="preview-item">
              <span class="label">Large (16px)</span>
              <av-progress [percent]="70" size="large"></av-progress>
            </div>
          </div>
        </div>

        <!-- 2. Circle & Dashboard -->
        <div class="example-block">
          <h4>2. –ö—Ä—É–≥–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã</h4>
          <p>–†–∞–∑–º–µ—Ä—ã <code>circle</code> –∏ <code>dashboard</code> –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –≤ –ø–∏–∫—Å–µ–ª—è—Ö.</p>
          <div class="example-preview row-stack">
            <div class="preview-item center">
              <av-progress [percent]="75" type="circle"></av-progress>
              <span class="label">Circle (Normal)</span>
            </div>
            <div class="preview-item center">
              <av-progress [percent]="45" type="dashboard" status="warning"></av-progress>
              <span class="label">Dashboard (Warning)</span>
            </div>
            <div class="preview-item center">
              <av-progress [percent]="100" type="circle" status="success" [size]="80"></av-progress>
              <span class="label">Success (Small Circle)</span>
            </div>
          </div>
        </div>

        <!-- 3. Colors & Gradients -->
        <div class="example-block">
          <h4>3. –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞</h4>
          <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞.</p>
          <div class="example-preview column-stack">
            <av-progress [percent]="99" [strokeColor]="{ from: '#108ee9', to: '#87d068' }"></av-progress>
            <av-progress [percent]="65" [strokeColor]="['#ff4d4f', '#faad14']" status="active"></av-progress>
            <av-progress [percent]="40" [strokeColor]="'#722ed1'" label="–ö–∞—Å—Ç–æ–º–Ω—ã–π —Ü–≤–µ—Ç —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π"></av-progress>
          </div>
        </div>

        <!-- 4. Indeterminate Mode -->
        <div class="example-block">
          <h4>4. –†–µ–∂–∏–º Indeterminate</h4>
          <p>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.</p>
          <div class="example-preview center">
            <av-progress [percent]="50" [indeterminate]="true" label="–ò–¥–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö..."></av-progress>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- BOTTOM: Documentation -->
  <div showcase-docs>
    <control-documentation [config]="documentationConfig"></control-documentation>
  </div>
</av-showcase>

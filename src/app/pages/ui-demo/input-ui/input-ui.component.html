<div class="ui-demo">
  <div class="ui-demo__header">
    <h1>Inputs (New Directive API) ‚≠ê</h1>
    <p class="text-secondary">
      –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã <code>avInput</code> –Ω–∞ –Ω–∞—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –∏ —Å—Ç–∏–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
      –≤–≤–æ–¥–∞.
    </p>
  </div>

  <!-- üõ†Ô∏è API Interface Documentation -->
  <section class="demo-section">
    <div class="demo-section__header">
      <h2>üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Inputs)</h2>
    </div>
    <p class="demo-section__description">
      –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É <strong>"?"</strong> –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∏–∂–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
      –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
    </p>

    <div class="demo-section__preview" style="padding: 0; background: none; border: none">
      <av-help-copy-container
        title="Interface: AvInputProps"
        [content]="apiInterfaceCode"
        bgColor="#0a0e1a"
        [showHelpButton]="true"
      ></av-help-copy-container>
    </div>
  </section>

  <!-- üéÆ Interactive Playground -->
  <section class="demo-section">
    <h2>üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞</h2>
    <div class="playground-container">
      <div nz-row [nzGutter]="[24, 24]">
        <!-- Controls -->
        <div nz-col [nzXs]="24" [nzLg]="10">
          <nz-card nzTitle="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" [nzExtra]="resetTpl">
            <ng-template #resetTpl>
              <button av-button avType="text" avSize="small" (click)="resetAllSettings()" style="color: #ff4d4f">
                –°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë
              </button>
            </ng-template>

            <!-- 1. General Config -->
            <div class="control-item">
              <label>–¢–∏–ø —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</label>
              <div class="control-content-zone">
                <nz-select [ngModel]="pgType()" (ngModelChange)="pgType.set($event)" style="width: 100%">
                  <nz-option nzValue="directive" nzLabel="Directive (avInput)"></nz-option>
                  <nz-option nzValue="component" nzLabel="Component (<av-input>)"></nz-option>
                </nz-select>
              </div>
            </div>

            <div class="control-item">
              <label>–¢–∏–ø –ø–æ–ª—è (type)</label>
              <div class="control-content-zone">
                <nz-select [ngModel]="pgInputType()" (ngModelChange)="pgInputType.set($event)" style="width: 100%">
                  <nz-option nzValue="text" nzLabel="Text"></nz-option>
                  <nz-option nzValue="email" nzLabel="Email"></nz-option>
                  <nz-option nzValue="password" nzLabel="Password"></nz-option>
                  <nz-option nzValue="number" nzLabel="Number"></nz-option>
                  <nz-option nzValue="tel" nzLabel="Tel"></nz-option>
                  <nz-option nzValue="url" nzLabel="URL"></nz-option>
                  <nz-option nzValue="search" nzLabel="Search"></nz-option>
                  <nz-option nzValue="date" nzLabel="Date"></nz-option>
                </nz-select>
              </div>
            </div>

            <!-- 2. Appearance -->
            <div class="control-item">
              <label>–†–∞–∑–º–µ—Ä</label>
              <div class="control-content-zone">
                <nz-select [ngModel]="pgSize()" (ngModelChange)="pgSize.set($event)" style="width: 100%">
                  <nz-option nzValue="small" nzLabel="Small"></nz-option>
                  <nz-option nzValue="default" nzLabel="Default"></nz-option>
                  <nz-option nzValue="large" nzLabel="Large"></nz-option>
                  <nz-option nzValue="x-large" nzLabel="X-Large"></nz-option>
                  <nz-option nzValue="custom" nzLabel="Custom (–°–≤–æ–π —Ä–∞–∑–º–µ—Ä)"></nz-option>
                </nz-select>

                @if (pgSize() === 'custom') {
                <div class="custom-size-row">
                  <div class="compact-field">
                    <span class="field-label">W</span>
                    <input
                      type="number"
                      nz-input
                      [ngModel]="pgWidth()"
                      (ngModelChange)="pgWidth.set($event)"
                      placeholder="Auto"
                    />
                  </div>
                  <div class="compact-field">
                    <span class="field-label">H</span>
                    <input
                      type="number"
                      nz-input
                      [ngModel]="pgHeight()"
                      (ngModelChange)="pgHeight.set($event)"
                      placeholder="Auto"
                    />
                  </div>
                  <div class="compact-field">
                    <span class="field-label">R</span>
                    <input
                      type="number"
                      nz-input
                      [ngModel]="pgRadius()"
                      (ngModelChange)="pgRadius.set($event)"
                      placeholder="0"
                    />
                  </div>
                </div>
                }
              </div>
            </div>

            <div class="control-item">
              <label nz-tooltip nzTooltipTitle="–§–æ—Ä–º–∞ –ø–æ–ª—è (—Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ)"
                >–§–æ—Ä–º–∞ (avShape) <span class="info-icon">‚ìò</span></label
              >
              <div class="control-content-zone">
                <nz-select [ngModel]="pgShape()" (ngModelChange)="pgShape.set($event)" style="width: 100%">
                  <nz-option nzValue="default" nzLabel="Default (Sharp Rect)"></nz-option>
                  <nz-option nzValue="rounded" nzLabel="Rounded (Standard)"></nz-option>
                  <nz-option nzValue="rounded-big" nzLabel="Rounded-big"></nz-option>
                </nz-select>
              </div>
            </div>

            <div class="control-item">
              <label>–î–∏–∑–∞–π–Ω (Variant)</label>
              <div class="control-content-zone">
                <nz-select [ngModel]="pgVariant()" (ngModelChange)="pgVariant.set($event)" style="width: 100%">
                  <nz-option nzValue="outlined" nzLabel="Outlined"></nz-option>
                  <nz-option nzValue="filled" nzLabel="Filled"></nz-option>
                  <nz-option nzValue="borderless" nzLabel="Borderless"></nz-option>
                </nz-select>
              </div>
            </div>

            <div class="control-item">
              <label>–°—Ç–∞—Ç—É—Å (Validation)</label>
              <div class="control-content-zone">
                <nz-select [ngModel]="pgStatus()" (ngModelChange)="pgStatus.set($event)" style="width: 100%">
                  <nz-option nzValue="default" nzLabel="Default"></nz-option>
                  <nz-option nzValue="success" nzLabel="Success"></nz-option>
                  <nz-option nzValue="warning" nzLabel="Warning"></nz-option>
                  <nz-option nzValue="error" nzLabel="Error"></nz-option>
                </nz-select>
              </div>
            </div>

            <!-- 4. Content & Labels -->
            <div class="control-item">
              <label>Placeholder</label>
              <div class="control-content-zone">
                <input nz-input [ngModel]="pgPlaceholder()" (ngModelChange)="pgPlaceholder.set($event)" />
              </div>
            </div>

            @if (pgType() === 'component') {
            <div class="control-item">
              <label>Label</label>
              <input nz-input [ngModel]="pgLabel()" (ngModelChange)="pgLabel.set($event)" />
            </div>
            <div class="control-item">
              <label>Hint (–ü–æ–¥—Å–∫–∞–∑–∫–∞)</label>
              <input nz-input [ngModel]="pgHint()" (ngModelChange)="pgHint.set($event)" />
            </div>
            @if (pgStatus() === 'error') {
            <div class="control-item">
              <label>Error Message</label>
              <input nz-input [ngModel]="pgErrorMessage()" (ngModelChange)="pgErrorMessage.set($event)" />
            </div>
            } }

            <!-- 5. Status Switches -->
            <div class="control-item switches-row">
              <div class="switch-item">
                <label>Disabled</label>
                <nz-switch [ngModel]="pgDisabled()" (ngModelChange)="pgDisabled.set($event)"></nz-switch>
              </div>

              <div class="switch-item">
                <label nz-tooltip nzTooltipTitle="–ü–æ–∫–∞–∑–∞—Ç—å –∏–ª–∏ —Å–∫—Ä—ã—Ç—å –ø–æ–ª–µ"
                  >Visible <span class="info-icon">‚ìò</span></label
                >
                <nz-switch [ngModel]="pgVisible()" (ngModelChange)="pgVisible.set($event)"></nz-switch>
              </div>

              <div class="switch-item">
                <label nz-tooltip nzTooltipTitle="–†–∞—Å—Ç—è–Ω—É—Ç—å –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É"
                  >Block <span class="info-icon">‚ìò</span></label
                >
                <nz-switch [ngModel]="pgBlock()" (ngModelChange)="pgBlock.set($event)"></nz-switch>
              </div>

              @if (pgInputType() === 'password') {
              <div class="switch-item">
                <label>Password Toggle</label>
                <nz-switch
                  [ngModel]="pgShowPasswordToggle()"
                  (ngModelChange)="pgShowPasswordToggle.set($event)"
                ></nz-switch>
              </div>
              }
            </div>
          </nz-card>
        </div>

        <!-- Preview & Code -->
        <div nz-col [nzXs]="24" [nzLg]="14">
          <nz-card nzTitle="–†–µ–∑—É–ª—å—Ç–∞—Ç" [nzExtra]="stateActions">
            <ng-template #stateActions>
              <div class="preview-badge" [class.success]="pgValue()">
                {{ pgValue() ? 'Value present' : 'Empty' }}
              </div>
            </ng-template>

            <div class="preview-area">
              <div style="width: 100%; max-width: 400px">
                @if (refreshTrigger()) { @if (pgType() === 'directive') {
                <input
                  avInput
                  [type]="pgInputType()"
                  [avSize]="appliedSize()"
                  [avVariant]="pgVariant()"
                  [avStatus]="pgStatus()"
                  [avWidth]="pgSize() === 'custom' ? pgWidth() : null"
                  [avHeight]="pgSize() === 'custom' ? pgHeight() : null"
                  [avRadius]="pgSize() === 'custom' ? pgRadius() : null"
                  [avVisible]="pgVisible()"
                  [avBlock]="pgBlock()"
                  [avShape]="pgShape()"
                  [placeholder]="pgPlaceholder()"
                  [disabled]="pgDisabled()"
                  [(ngModel)]="pgValue"
                />
                } @else {
                <av-input
                  [(value)]="pgValue"
                  [label]="pgLabel()"
                  [placeholder]="pgPlaceholder()"
                  [type]="pgInputType()"
                  [size]="appliedSize()"
                  [variant]="pgVariant()"
                  [status]="pgStatus()"
                  [hint]="pgHint()"
                  [errorMessage]="pgErrorMessage()"
                  [width]="pgSize() === 'custom' ? pgWidth() : null"
                  [height]="pgSize() === 'custom' ? pgHeight() : null"
                  [radius]="pgSize() === 'custom' ? pgRadius() : null"
                  [visible]="pgVisible()"
                  [block]="pgBlock()"
                  [shape]="pgShape()"
                  [disabled]="pgDisabled()"
                  [showPasswordToggle]="pgShowPasswordToggle()"
                ></av-input>
                } }
              </div>
            </div>

            <div style="margin-top: 24px">
              <av-help-copy-container
                title="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥"
                [content]="pgGeneratedCode()"
                bgColor="#1e293b"
              ></av-help-copy-container>
            </div>
          </nz-card>
        </div>
      </div>
    </div>
  </section>

  <!-- Message Display -->
  @if (message()) {
  <div class="message-display">
    {{ message() }}
  </div>
  }
</div>

<av-showcase [config]="showcaseConfig" [generatedCodeInput]="codeForShowcase()">
  <!-- TAB SECTION: TABS & CONTROLS -->
  <div showcase-tabs>
    <nz-tabset [nzAnimated]="false">
      <!-- 1. PLAYGROUND -->
      <nz-tab nzTitle="üéÆ Playground">
        <div class="demo-form">
          <h3 class="form-section-title">–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>

          <div class="control-row">
            <div class="control-group">
              <label class="control-label">–í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (total):</label>
              <input
                nz-input
                type="number"
                [ngModel]="config().total"
                (ngModelChange)="updateConfig('total', $event)"
              />
            </div>
            <div class="control-group">
              <label class="control-label">–¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:</label>
              <input
                nz-input
                type="number"
                [ngModel]="config().currentPage"
                (ngModelChange)="updateConfig('currentPage', $event)"
              />
            </div>
          </div>

          <h3 class="form-section-title">–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</h3>

          <div class="control-group">
            <label class="control-label">–í–∞—Ä–∏–∞–Ω—Ç (Variant):</label>
            <nz-radio-group [ngModel]="config().variant" (ngModelChange)="updateConfig('variant', $event)">
              @for (v of variants; track v.value) {
              <label nz-radio [nzValue]="v.value">{{ v.label }}</label>
              }
            </nz-radio-group>
          </div>

          <div class="control-group">
            <label class="control-label">–†–∞–∑–º–µ—Ä (Size):</label>
            <nz-radio-group [ngModel]="config().size" (ngModelChange)="updateConfig('size', $event)">
              @for (s of sizes; track s.value) {
              <label nz-radio [nzValue]="s.value">{{ s.label }}</label>
              }
            </nz-radio-group>
          </div>

          <div class="control-group">
            <label class="control-label">–§–æ—Ä–º–∞ –∫–Ω–æ–ø–æ–∫ (Shape):</label>
            <nz-radio-group [ngModel]="config().shape" (ngModelChange)="updateConfig('shape', $event)">
              @for (sh of shapes; track sh.value) {
              <label nz-radio [nzValue]="sh.value">{{ sh.label }}</label>
              }
            </nz-radio-group>
          </div>

          <div class="control-group">
            <label class="control-label">–¶–≤–µ—Ç (Color):</label>
            <nz-radio-group [ngModel]="config().color" (ngModelChange)="updateConfig('color', $event)">
              @for (c of colors; track c.value) {
              <label nz-radio [nzValue]="c.value">{{ c.label }}</label>
              }
            </nz-radio-group>
          </div>

          <h3 class="form-section-title">–ü–æ–≤–µ–¥–µ–Ω–∏–µ</h3>

          <div class="control-row">
            <div class="control-group checkbox-group">
              <label
                nz-checkbox
                [ngModel]="config().showSizeChanger"
                (ngModelChange)="updateConfig('showSizeChanger', $event)"
              >
                –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
              </label>
            </div>
            <div class="control-group checkbox-group">
              <label
                nz-checkbox
                [ngModel]="config().showQuickJumper"
                (ngModelChange)="updateConfig('showQuickJumper', $event)"
              >
                –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥
              </label>
            </div>
          </div>

          <div class="control-row">
            <div class="control-group checkbox-group">
              <label nz-checkbox [ngModel]="config().showTotal" (ngModelChange)="updateConfig('showTotal', $event)">
                –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å "–í—Å–µ–≥–æ"
              </label>
            </div>
            <div class="control-group checkbox-group">
              <label
                nz-checkbox
                [ngModel]="config().showFirstLast"
                (ngModelChange)="updateConfig('showFirstLast', $event)"
              >
                –ü–µ—Ä–≤–∞—è/–ü–æ—Å–ª–µ–¥–Ω—è—è
              </label>
            </div>
          </div>

          <div class="control-row">
            <div class="control-group checkbox-group">
              <label nz-checkbox [ngModel]="config().disabled" (ngModelChange)="updateConfig('disabled', $event)">
                –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
              </label>
            </div>
            <div class="control-group checkbox-group">
              <label
                nz-checkbox
                [ngModel]="config().hideOnSinglePage"
                (ngModelChange)="updateConfig('hideOnSinglePage', $event)"
              >
                –°–∫—Ä—ã–≤–∞—Ç—å –ø—Ä–∏ 1 —Å—Ç—Ä.
              </label>
            </div>
          </div>

          <div class="control-group" style="margin-top: 16px">
            <label class="control-label">–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è:</label>
            <nz-radio-group [ngModel]="config().locale" (ngModelChange)="updateConfig('locale', $event)">
              <label nz-radio nzValue="ru">–†—É—Å—Å–∫–∏–π (RU)</label>
              <label nz-radio nzValue="en">English (EN)</label>
            </nz-radio-group>
          </div>
        </div>
      </nz-tab>

      <!-- 2. CODE -->
      <nz-tab nzTitle="üíª –ö–æ–¥">
        <div class="demo-form">
          <div class="code-block-container">
            <div class="code-header">
              <span>HTML Template</span>
              <button class="copy-btn" (click)="copyToClipboard(generatedCode().html)">üìã</button>
            </div>
            <pre><code>{{ generatedCode().html }}</code></pre>
          </div>

          <div class="code-block-container" style="margin-top: 24px">
            <div class="code-header">
              <span>TypeScript Logic</span>
              <button class="copy-btn" (click)="copyToClipboard(generatedCode().typescript)">üìã</button>
            </div>
            <pre><code>{{ generatedCode().typescript }}</code></pre>
          </div>
        </div>
      </nz-tab>

      <!-- 3. EXAMPLES (Simplified internal view) -->
      <nz-tab nzTitle="üìö –ü—Ä–∏–º–µ—Ä—ã">
        <div class="demo-form">
          <p>
            –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–¥ –±–ª–æ–∫–æ–º –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ
            –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.
          </p>
        </div>
      </nz-tab>

      <!-- 4. API -->
      <nz-tab nzTitle="üìñ API">
        <div class="demo-form">
          <control-documentation [config]="documentationConfig"></control-documentation>
        </div>
      </nz-tab>
    </nz-tabset>
  </div>

  <!-- RESULT: LIVE PREVIEW -->
  <div showcase-result>
    <div class="preview-container">
      <div class="live-demo-wrapper">
        <av-pagination
          [total]="config().total"
          [(currentPage)]="config().currentPage"
          [(pageSize)]="config().pageSize"
          [variant]="config().variant"
          [size]="config().size"
          [shape]="config().shape"
          [color]="config().color"
          [showSizeChanger]="config().showSizeChanger"
          [showQuickJumper]="config().showQuickJumper"
          [showTotal]="config().showTotal"
          [showFirstLast]="config().showFirstLast"
          [hideOnSinglePage]="config().hideOnSinglePage"
          [disabled]="config().disabled"
          [locale]="config().locale"
          (paginationChange)="onPaginationChange($event)"
        >
        </av-pagination>
      </div>

      <div class="dialog-info" style="margin-top: 40px">
        <span class="info-title">üëÅÔ∏è –¢–µ–∫—É—â–∏–π —Å—Ç–µ–π—Ç:</span>
        <span class="info-item"
          >–°—Ç—Ä–∞–Ω–∏—Ü–∞: <strong>{{ config().currentPage }}</strong></span
        >
        <span class="info-item"
          >–†–∞–∑–º–µ—Ä: <strong>{{ config().pageSize }}</strong></span
        >
        <span class="info-item"
          >–î–∏–∞–ø–∞–∑–æ–Ω:
          <strong
            >{{ (config().currentPage - 1) * config().pageSize + 1 }} -
            {{ Math.min(config().currentPage * config().pageSize, config().total) }}</strong
          ></span
        >
      </div>
    </div>
  </div>

  <!-- RESULT: DESCRIPTION -->
  <div showcase-description>
    <div class="config-summary">
      <div class="config-grid">
        <div class="config-item">
          <span class="config-label">–í–∞—Ä–∏–∞–Ω—Ç</span>
          <span class="config-value">{{ config().variant }}</span>
        </div>
        <div class="config-item">
          <span class="config-label">–†–∞–∑–º–µ—Ä</span>
          <span class="config-value">{{ config().size }}</span>
        </div>
        <div class="config-item">
          <span class="config-label">–§–æ—Ä–º–∞</span>
          <span class="config-value">{{ config().shape }}</span>
        </div>
        <div class="config-item">
          <span class="config-label">–¶–≤–µ—Ç</span>
          <span class="config-value">{{ config().color }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- USAGE EXAMPLES (Bottom Section, Full Width) -->
  <div showcase-examples>
    <div class="demo-form">
      <div class="example-grid">
        <!-- 1. Basic -->
        <div class="example-block">
          <h4>1. –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</h4>
          <p>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø–æ–ª–µ–º <code>total</code>.</p>
          <div class="example-preview">
            <av-pagination [total]="100" [(currentPage)]="examplePage1" [showTotal]="false"></av-pagination>
          </div>
          <div class="code-block-container compact">
            <pre><code>{{ exampleSnippets.basic }}</code></pre>
          </div>
        </div>

        <!-- 2. Variants -->
        <div class="example-block">
          <h4>2. –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</h4>
          <p>–°—Ç–∏–ª–∏ <code>default</code>, <code>simple</code>, <code>compact</code> –∏ <code>minimal</code>.</p>
          <div class="example-preview-stack">
            <div class="preview-item">
              <span class="preview-label">Simple:</span>
              <av-pagination [total]="50" [(currentPage)]="examplePage2" variant="simple"></av-pagination>
            </div>
            <div class="preview-item">
              <span class="preview-label">Compact:</span>
              <av-pagination [total]="50" [(currentPage)]="examplePage3" variant="compact"></av-pagination>
            </div>
            <div class="preview-item">
              <span class="preview-label">Minimal:</span>
              <av-pagination [total]="50" [(currentPage)]="examplePage4" variant="minimal"></av-pagination>
            </div>
          </div>
        </div>

        <!-- 3. Sizes -->
        <div class="example-block">
          <h4>3. –†–∞–∑–º–µ—Ä—ã</h4>
          <p>–¢—Ä–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–∞: <code>small</code>, <code>medium</code> –∏ <code>large</code>.</p>
          <div class="example-preview-stack">
            <div class="preview-item">
              <span class="preview-label">Small:</span>
              <av-pagination [total]="30" [(currentPage)]="examplePage5" size="small"></av-pagination>
            </div>
            <div class="preview-item">
              <span class="preview-label">Large:</span>
              <av-pagination [total]="30" [(currentPage)]="examplePage6" size="large"></av-pagination>
            </div>
          </div>
        </div>

        <!-- 4. Advanced Controls -->
        <div class="example-block">
          <h4>4. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã</h4>
          <p>–°–µ–ª–µ–∫—Ç–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –±—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–æ–º–µ—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã.</p>
          <div class="example-preview">
            <av-pagination
              [total]="500"
              [(currentPage)]="examplePage7"
              [(pageSize)]="examplePageSize1"
              [showSizeChanger]="true"
              [showQuickJumper]="true"
              [pageSizeOptions]="[10, 20, 50]"
            ></av-pagination>
          </div>
        </div>

        <!-- 5. Client-side Example -->
        <div class="example-block">
          <h4>5. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è (Computed)</h4>
          <p>–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –¥–∞–Ω–Ω—ã—Ö.</p>
          <div class="example-preview client-example">
            <div class="items-list-mini">
              @for (item of displayedItems(); track item.id) {
              <div class="item-mini">#{{ item.id }} - {{ item.name }}</div>
              }
            </div>
            <av-pagination
              [total]="allItems().length"
              [(currentPage)]="clientPage"
              [(pageSize)]="clientPageSize"
              size="small"
              variant="compact"
            ></av-pagination>
          </div>
          <div class="code-block-container compact">
            <pre><code>{{ exampleSnippets.computed }}</code></pre>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- BOTTOM: Documentation -->
  <div showcase-docs>
    <control-documentation [config]="documentationConfig"></control-documentation>
  </div>
</av-showcase>

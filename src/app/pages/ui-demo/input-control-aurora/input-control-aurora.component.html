<av-showcase [config]="showcaseConfig" [generatedCodeInput]="codeForShowcase()">
  <div showcase-tabs>
    <nz-tabset [nzAnimated]="false">
      <!-- üéÆ Playground -->
      <nz-tab nzTitle="üéÆ Playground">
        <div class="demo-form">
          <div nz-row [nzGutter]="[16, 16]">
            <!-- Type Selector -->
            <div nz-col [nzSpan]="24">
              <div class="control-group">
                <label class="control-label">–†–µ–∂–∏–º:</label>
                <nz-radio-group [ngModel]="config().type" (ngModelChange)="updateConfig('type', $event)">
                  <label nz-radio-button nzValue="directive">–î–∏—Ä–µ–∫—Ç–∏–≤–∞ (avInput)</label>
                  <label nz-radio-button nzValue="component">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç (av-input)</label>
                </nz-radio-group>
              </div>
            </div>

            <!-- Basic Props -->
            <div nz-col [nzSpan]="24">
              <div class="control-group">
                <label class="control-label">–†–∞–∑–º–µ—Ä:</label>
                <nz-radio-group [ngModel]="config().size" (ngModelChange)="updateConfig('size', $event)">
                  <label nz-radio nzValue="small">Small</label>
                  <label nz-radio nzValue="default">Default</label>
                  <label nz-radio nzValue="large">Large</label>
                  <label nz-radio nzValue="x-large">X-Large</label>
                  <label nz-radio nzValue="custom">Custom</label>
                </nz-radio-group>
              </div>
            </div>

            <!-- Custom Dimensions -->
            <div nz-col [nzSpan]="24" *ngIf="config().size === 'custom'">
              <div class="control-group">
                <label class="control-label">–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã (W / H / R):</label>
                <div style="display: flex; gap: 8px">
                  <input
                    nz-input
                    placeholder="Width"
                    [ngModel]="config().width"
                    (ngModelChange)="updateConfig('width', $event)"
                  />
                  <input
                    nz-input
                    placeholder="Height"
                    [ngModel]="config().height"
                    (ngModelChange)="updateConfig('height', $event)"
                  />
                  <input
                    nz-input
                    placeholder="Radius"
                    [ngModel]="config().radius"
                    (ngModelChange)="updateConfig('radius', $event)"
                  />
                </div>
              </div>
            </div>

            <div nz-col [nzSpan]="24">
              <div class="control-group">
                <label class="control-label">–¢–∏–ø –≤–≤–æ–¥–∞:</label>
                <nz-radio-group [ngModel]="config().inputType" (ngModelChange)="updateConfig('inputType', $event)">
                  <label nz-radio nzValue="text">Text</label>
                  <label nz-radio nzValue="password">Password</label>
                  <label nz-radio nzValue="email">Email</label>
                  <label nz-radio nzValue="number">Number</label>
                </nz-radio-group>
              </div>
            </div>

            <div nz-col [nzSpan]="24">
              <div class="control-group">
                <label class="control-label">–°—Ç–∞—Ç—É—Å:</label>
                <nz-radio-group [ngModel]="config().status" (ngModelChange)="updateConfig('status', $event)">
                  <label nz-radio nzValue="default">Default</label>
                  <label nz-radio nzValue="error">Error</label>
                  <label nz-radio nzValue="warning">Warning</label>
                  <label nz-radio nzValue="success">Success</label>
                </nz-radio-group>
              </div>
            </div>

            <div nz-col [nzSpan]="24">
              <div class="control-group">
                <label class="control-label">–§–æ—Ä–º–∞:</label>
                <nz-radio-group [ngModel]="config().shape" (ngModelChange)="updateConfig('shape', $event)">
                  <label nz-radio nzValue="default">Default</label>
                  <label nz-radio nzValue="rounded">Rounded</label>
                  <label nz-radio nzValue="rounded-big">Rounded Big</label>
                </nz-radio-group>
              </div>
            </div>

            <div nz-col [nzSpan]="24">
              <div class="control-group">
                <label class="control-label">–í–∞—Ä–∏–∞–Ω—Ç:</label>
                <div style="display: flex; align-items: center; gap: 16px">
                  <nz-radio-group [ngModel]="config().variant" (ngModelChange)="updateConfig('variant', $event)">
                    <label nz-radio nzValue="outlined">Outlined</label>
                    <label nz-radio nzValue="filled">Filled</label>
                    <label nz-radio nzValue="borderless">Borderless</label>
                  </nz-radio-group>
                  <label nz-checkbox [ngModel]="config().dashed" (ngModelChange)="updateConfig('dashed', $event)"
                    >Dashed (–ü—É–Ω–∫—Ç–∏—Ä)</label
                  >
                </div>
              </div>
            </div>

            <!-- Toggle Props -->
            <div nz-col [nzSpan]="24">
              <div class="toggle-group" style="display: flex; gap: 16px">
                <label nz-checkbox [ngModel]="config().disabled" (ngModelChange)="updateConfig('disabled', $event)"
                  >Disabled</label
                >
                <label nz-checkbox [ngModel]="config().block" (ngModelChange)="updateConfig('block', $event)"
                  >Block (100%)</label
                >
              </div>
            </div>

            <!-- Component Only Props -->
            <div nz-col [nzSpan]="24" *ngIf="config().type === 'component'">
              <h4 style="margin: 16px 0 8px; font-size: 13px; color: #888">–°–≤–æ–π—Å—Ç–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</h4>
              <div class="control-group">
                <label class="control-label">Label:</label>
                <input nz-input [ngModel]="config().label" (ngModelChange)="updateConfig('label', $event)" />
              </div>
              <div class="control-group" style="margin-top: 8px">
                <label class="control-label">Hint:</label>
                <input nz-input [ngModel]="config().hint" (ngModelChange)="updateConfig('hint', $event)" />
              </div>
              <div class="control-group" style="margin-top: 8px">
                <label class="control-label">–ò–∫–æ–Ω–∫–∏:</label>
                <div style="display: flex; gap: 8px">
                  <nz-select
                    nzAllowClear
                    nzPlaceHolder="Prefix"
                    [ngModel]="config().prefixIcon"
                    (ngModelChange)="updateConfig('prefixIcon', $event)"
                    style="flex: 1"
                  >
                    <nz-option nzValue="search" nzLabel="Search"></nz-option>
                    <nz-option nzValue="user" nzLabel="User"></nz-option>
                    <nz-option nzValue="lock" nzLabel="Lock"></nz-option>
                  </nz-select>
                  <nz-select
                    nzAllowClear
                    nzPlaceHolder="Suffix"
                    [ngModel]="config().suffixIcon"
                    (ngModelChange)="updateConfig('suffixIcon', $event)"
                    style="flex: 1"
                  >
                    <nz-option nzValue="check" nzLabel="Check"></nz-option>
                    <nz-option nzValue="close" nzLabel="Close"></nz-option>
                    <nz-option nzValue="info" nzLabel="Info"></nz-option>
                  </nz-select>
                </div>
              </div>
            </div>
            <!-- Reset Button -->
            <div nz-col [nzSpan]="24" style="margin-top: 16px">
              <button nz-button nzType="default" nzDanger (click)="resetAllSettings()">–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>
          </div>
        </div>
      </nz-tab>

      <!-- üíª Code -->
      <nz-tab nzTitle="üíª –ö–æ–¥">
        <div class="demo-form">
          <div *ngIf="documentationConfig.interactiveExample">
            <h4>{{ documentationConfig.interactiveExample.title }}</h4>
            <p style="color: #666; margin-bottom: 16px">{{ documentationConfig.interactiveExample.description }}</p>

            <h5>HTML –∫–æ–¥:</h5>
            <pre
              style="background: #f5f5f5; padding: 16px; border-radius: 6px; margin-bottom: 16px"
            ><code>{{ generatedCode().html }}</code></pre>

            <h5>TypeScript:</h5>
            <pre
              style="background: #f5f5f5; padding: 16px; border-radius: 6px; margin-bottom: 16px"
            ><code>{{ generatedCode().typescript }}</code></pre>
          </div>

          <div *ngFor="let example of documentationConfig.codeExamples" style="margin-bottom: 32px">
            <h4>{{ example.title }}</h4>
            <p *ngIf="example.description" style="color: #666; margin-bottom: 8px">{{ example.description }}</p>
            <pre
              style="background: #f5f5f5; padding: 16px; border-radius: 6px"
            ><code>{{ example.htmlCode }}</code></pre>
          </div>
        </div>
      </nz-tab>

      <!-- üìö Examples -->
      <nz-tab nzTitle="üìö –ü—Ä–∏–º–µ—Ä—ã">
        <div class="demo-form">
          <div *ngFor="let example of documentationConfig.usageExamples" style="margin-bottom: 32px">
            <h4>{{ example.title }}</h4>
            <p style="color: #666">{{ example.description }}</p>
            <pre
              style="background: #f5f5f5; padding: 16px; border-radius: 6px"
            ><code>{{ example.htmlCode }}</code></pre>
          </div>
        </div>
      </nz-tab>

      <!-- üìñ API -->
      <nz-tab nzTitle="üìñ API">
        <div class="demo-form">
          <!-- Inputs -->
          <div *ngIf="documentationConfig.apiDetails.inputs.length">
            <h4 style="margin-bottom: 16px">üì• –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (Inputs)</h4>
            <nz-table
              #inputsTable
              [nzData]="documentationConfig.apiDetails.inputs"
              [nzShowPagination]="false"
              nzSize="small"
              [nzBordered]="true"
            >
              <thead>
                <tr>
                  <th nzWidth="200px">–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                  <th nzWidth="200px">–¢–∏–ø</th>
                  <th nzWidth="150px">Default</th>
                  <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let data of inputsTable.data">
                  <td>
                    <code>{{ data.name }}</code>
                  </td>
                  <td>
                    <code style="color: #1890ff">{{ data.type }}</code>
                  </td>
                  <td>
                    <code>{{ data.defaultValue || '-' }}</code>
                  </td>
                  <td>{{ data.description }}</td>
                </tr>
              </tbody>
            </nz-table>
          </div>
          <!-- Outputs -->
          <div *ngIf="documentationConfig.apiDetails.outputs.length" style="margin-top: 32px">
            <h4 style="margin-bottom: 16px">üì§ –°–æ–±—ã—Ç–∏—è (Outputs)</h4>
            <nz-table
              #outputsTable
              [nzData]="documentationConfig.apiDetails.outputs"
              [nzShowPagination]="false"
              nzSize="small"
              [nzBordered]="true"
            >
              <thead>
                <tr>
                  <th nzWidth="200px">–°–æ–±—ã—Ç–∏–µ</th>
                  <th nzWidth="200px">–¢–∏–ø</th>
                  <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let data of outputsTable.data">
                  <td>
                    <code>{{ data.name }}</code>
                  </td>
                  <td>
                    <code style="color: #1890ff">{{ data.type }}</code>
                  </td>
                  <td>{{ data.description }}</td>
                </tr>
              </tbody>
            </nz-table>
          </div>
        </div>
      </nz-tab>
    </nz-tabset>
  </div>

  <div showcase-result>
    <div
      class="live-preview-box"
      [style.padding]="'32px'"
      style="
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 150px;
        background: #fff;
        width: 100%;
      "
    >
      <div style="width: 100%; max-width: 400px">
        <ng-container *ngIf="config().type === 'directive'">
          <input
            avInput
            [type]="config().inputType"
            [placeholder]="config().placeholder"
            [avSize]="appliedSize()"
            [avStatus]="config().status"
            [avVariant]="config().variant"
            [avShape]="config().shape"
            [avDashed]="config().dashed"
            [avBlock]="config().block"
            [avWidth]="config().width"
            [avHeight]="config().height"
            [avRadius]="config().radius"
            [disabled]="config().disabled"
            [ngModel]="config().value"
            (ngModelChange)="updateConfig('value', $event)"
          />
        </ng-container>

        <ng-container *ngIf="config().type === 'component'">
          <av-input
            [type]="config().inputType"
            [placeholder]="config().placeholder"
            [size]="appliedSize()"
            [status]="config().status"
            [variant]="config().variant"
            [shape]="config().shape"
            [block]="config().block"
            [disabled]="config().disabled"
            [label]="config().label"
            [hint]="config().hint"
            [prefixIcon]="config().prefixIcon"
            [suffixIcon]="config().suffixIcon"
            [width]="config().width"
            [height]="config().height"
            [radius]="config().radius"
            [dashed]="config().dashed"
            [ngModel]="config().value"
            (ngModelChange)="updateConfig('value', $event)"
          ></av-input>
        </ng-container>
      </div>
    </div>
  </div>

  <div showcase-description>
    <div class="description-box">
      <h4>–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h4>
      <p>
        –¢–∏–ø: <strong>{{ config().type }}</strong>
      </p>
      <p>
        –†–∞–∑–º–µ—Ä: <strong>{{ config().size }}</strong>
      </p>
      <p>
        –°—Ç–∞—Ç—É—Å: <strong>{{ config().status }}</strong>
      </p>
      <p>
        –§–æ—Ä–º–∞: <strong>{{ config().shape }}</strong>
      </p>
    </div>
  </div>

  <div showcase-docs>
    <control-documentation [config]="documentationConfig"></control-documentation>
  </div>
</av-showcase>

<av-showcase [config]="showcaseConfig" [generatedCodeInput]="codeForShowcase()">
  <!-- TAB SECTION: TABS & CONTROLS -->
  <div showcase-tabs>
    <nz-tabset [nzAnimated]="false">
      <!-- 1. PLAYGROUND -->
      <nz-tab nzTitle="üéÆ Playground">
        <div class="demo-form">
          <h3 class="form-section-title">–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>

          <div class="control-group">
            <label class="control-label">–ó–∞–≥–æ–ª–æ–≤–æ–∫ (Title):</label>
            <input
              nz-input
              [ngModel]="config().title"
              (ngModelChange)="updateConfig('title', $event)"
              placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫..."
            />
          </div>

          <div class="control-group">
            <label class="control-label">–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ (Subtitle):</label>
            <input
              nz-input
              [ngModel]="config().subtitle"
              (ngModelChange)="updateConfig('subtitle', $event)"
              placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫..."
            />
          </div>

          <div class="control-group">
            <label class="control-label">–†–∞–∑–º–µ—Ä (Size):</label>
            <nz-radio-group [ngModel]="config().size" (ngModelChange)="updateConfig('size', $event)">
              @for (size of sizes; track size.value) {
              <label nz-radio [nzValue]="size.value">{{ size.label }}</label>
              }
            </nz-radio-group>
          </div>

          <div class="control-group" style="margin-top: 16px">
            <label class="control-label">–ü–æ–∑–∏—Ü–∏—è (Position):</label>
            <nz-radio-group [ngModel]="config().position" (ngModelChange)="updateConfig('position', $event)">
              @for (pos of positions; track pos.value) {
              <label nz-radio [nzValue]="pos.value">{{ pos.label }}</label>
              }
            </nz-radio-group>
          </div>

          <h3 class="form-section-title">–ü–æ–≤–µ–¥–µ–Ω–∏–µ</h3>

          <div class="control-group checkbox-group">
            <label
              nz-checkbox
              [ngModel]="config().showCloseButton"
              (ngModelChange)="updateConfig('showCloseButton', $event)"
            >
              –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –∑–∞–∫—Ä—ã—Ç–∏—è (X)
            </label>
          </div>

          <div class="control-group checkbox-group">
            <label nz-checkbox [ngModel]="config().showBackdrop" (ngModelChange)="updateConfig('showBackdrop', $event)">
              –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å backdrop (–∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ)
            </label>
          </div>

          <div class="control-group checkbox-group">
            <label
              nz-checkbox
              [ngModel]="config().closeOnBackdrop"
              (ngModelChange)="updateConfig('closeOnBackdrop', $event)"
              [nzDisabled]="!config().showBackdrop"
            >
              –ó–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ –∫–ª–∏–∫—É –Ω–∞ backdrop
            </label>
          </div>

          <div class="control-group checkbox-group">
            <label nz-checkbox [ngModel]="config().closeOnEsc" (ngModelChange)="updateConfig('closeOnEsc', $event)">
              –ó–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ –Ω–∞–∂–∞—Ç–∏—é ESC
            </label>
          </div>

          <h3 class="form-section-title">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –æ–ø—Ü–∏–∏</h3>

          <div class="control-group checkbox-group">
            <label nz-checkbox [ngModel]="config().centered" (ngModelChange)="updateConfig('centered', $event)">
              –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
            </label>
          </div>

          <div class="control-group checkbox-group">
            <label nz-checkbox [ngModel]="config().draggable" (ngModelChange)="updateConfig('draggable', $event)">
              –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ (Draggable)
            </label>
          </div>

          <div class="control-group checkbox-group">
            <label nz-checkbox [ngModel]="config().resizable" (ngModelChange)="updateConfig('resizable', $event)">
              –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (Resizable)
            </label>
          </div>

          <div class="control-group checkbox-group">
            <label
              nz-checkbox
              [ngModel]="config().showMaximizeButton"
              (ngModelChange)="updateConfig('showMaximizeButton', $event)"
            >
              –ö–Ω–æ–ø–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
            </label>
          </div>

          <div class="control-group checkbox-group">
            <label nz-checkbox [ngModel]="config().loading" (ngModelChange)="updateConfig('loading', $event)">
              –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ (Loading)
            </label>
          </div>

          <h3 class="form-section-title">–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã</h3>

          <div class="control-row">
            <div class="control-group">
              <label class="control-label">–®–∏—Ä–∏–Ω–∞ (avWidth):</label>
              <input
                nz-input
                [ngModel]="config().avWidth"
                (ngModelChange)="updateConfig('avWidth', $event)"
                placeholder="500px, 50vw..."
              />
            </div>

            <div class="control-group">
              <label class="control-label">–í—ã—Å–æ—Ç–∞ (avHeight):</label>
              <input
                nz-input
                [ngModel]="config().avHeight"
                (ngModelChange)="updateConfig('avHeight', $event)"
                placeholder="400px, 60vh..."
              />
            </div>
          </div>

          <div class="control-group" style="margin-top: 24px">
            <button av-button avType="default" (click)="resetToDefaults()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –∫ —É–º–æ–ª—á–∞–Ω–∏—é</button>
          </div>
        </div>
      </nz-tab>

      <!-- 2. CODE -->
      <nz-tab nzTitle="üíª –ö–æ–¥">
        <div class="demo-form">
          <div style="margin-bottom: 32px">
            <h4>üöÄ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–∏–º–µ—Ä</h4>
            <p style="color: #666; margin-bottom: 16px">
              –ö–æ–¥ –Ω–∏–∂–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–æ –≤–∫–ª–∞–¥–∫–µ Playground.
            </p>

            <div class="code-block-container">
              <div class="code-header">
                <span>HTML Template (–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ)</span>
                <button class="copy-btn" (click)="copyToClipboard(generatedCode().html)">üìã</button>
              </div>
              <pre><code>{{ generatedCode().html }}</code></pre>
            </div>

            <div class="code-block-container" style="margin-top: 24px">
              <div class="code-header">
                <span>TypeScript (ModalService)</span>
                <button class="copy-btn" (click)="copyToClipboard(generatedCode().typescript)">üìã</button>
              </div>
              <pre><code>{{ generatedCode().typescript }}</code></pre>
            </div>
          </div>
        </div>
      </nz-tab>

      <!-- 3. EXAMPLES -->
      <nz-tab nzTitle="üìö –ü—Ä–∏–º–µ—Ä—ã">
        <div class="demo-form">
          <h4>–ë—ã—Å—Ç—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã —Å–µ—Ä–≤–∏—Å–∞:</h4>
          <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 24px">
            <button av-button avType="primary" (click)="showSuccessExample()">Success Modal</button>
            <button av-button avType="danger" (click)="showDeleteExample()">Delete Modal</button>
            <button av-button avType="default" (click)="showConfirmExample()">Confirm Modal</button>
            <button av-button avType="default" (click)="showInfoExample()">Info</button>
            <button av-button avType="default" (click)="showWarningExample()">Warning</button>
          </div>

          <h4>–†–∞–∑–º–µ—Ä—ã (Presets):</h4>
          <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 24px">
            <button av-button avType="default" (click)="openExampleModal('small')">Small</button>
            <button av-button avType="default" (click)="openExampleModal('medium')">Medium</button>
            <button av-button avType="default" (click)="openExampleModal('large')">Large</button>
            <button av-button avType="default" (click)="openExampleModal('xlarge')">XLarge</button>
            <button av-button avType="default" (click)="openExampleModal('fullscreen')">Fullscreen</button>
          </div>

          <h4>–ü–æ–∑–∏—Ü–∏–∏:</h4>
          <div style="display: flex; gap: 8px; flex-wrap: wrap">
            <button av-button avType="default" (click)="openExamplePosition('center')">Center</button>
            <button av-button avType="default" (click)="openExamplePosition('top')">Top</button>
            <button av-button avType="default" (click)="openExamplePosition('bottom')">Bottom</button>
          </div>
        </div>
      </nz-tab>

      <!-- 4. API -->
      <nz-tab nzTitle="üìñ API">
        <div class="demo-form">
          <p style="margin-bottom: 16px">–ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ModalComponent.</p>
          <control-documentation [config]="documentationConfig"></control-documentation>
        </div>
      </nz-tab>
    </nz-tabset>
  </div>

  <!-- RESULT: LIVE PREVIEW -->
  <div showcase-result>
    <div class="preview-container">
      <button class="main-action-btn" av-button avType="primary" avSize="large" (click)="playgroundModalOpen.set(true)">
        –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
      </button>

      <div class="dialog-info" style="margin-top: 24px">
        <h4>üëÅÔ∏è –¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:</h4>
        <ul style="list-style: none; padding: 0; font-size: 13px">
          <li><strong>–†–∞–∑–º–µ—Ä:</strong> {{ config().size }}</li>
          <li><strong>–ü–æ–∑–∏—Ü–∏—è:</strong> {{ config().position }}</li>
          <li><strong>–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ:</strong> {{ config().centered ? '–î–∞' : '–ù–µ—Ç' }}</li>
          <li>
            <strong>Draggable/Resizable:</strong> {{ config().draggable ? '–î–∞' : '–ù–µ—Ç' }} /
            {{ config().resizable ? '–î–∞' : '–ù–µ—Ç' }}
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- RESULT: DESCRIPTION (Stats) -->
  <div showcase-description>
    <div class="config-summary">
      <div class="config-grid">
        <div class="config-item">
          <span class="config-label">–ó–∞–≥–æ–ª–æ–≤–æ–∫</span>
          <span class="config-value">{{ config().title || '‚Äî' }}</span>
        </div>
        <div class="config-item">
          <span class="config-label">Backdrop</span>
          <span class="config-value">{{ config().showBackdrop ? '–í–∫–ª' : '–í—ã–∫–ª' }}</span>
        </div>
        <div class="config-item">
          <span class="config-label">Close on ESC</span>
          <span class="config-value">{{ config().closeOnEsc ? '–î–∞' : '–ù–µ—Ç' }}</span>
        </div>
        <div class="config-item">
          <span class="config-label">Loading</span>
          <span class="config-value">{{ config().loading ? '–î–∞' : '–ù–µ—Ç' }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- BOTTOM: Full Documentation -->
  <div showcase-docs>
    <control-documentation [config]="documentationConfig"></control-documentation>
  </div>
</av-showcase>

<!-- MODAL FOR PLAYGROUND DEMO -->
<av-modal
  [(isOpen)]="playgroundModalOpen"
  [title]="config().title"
  [subtitle]="config().subtitle"
  [size]="config().size"
  [position]="config().position"
  [showCloseButton]="config().showCloseButton"
  [showBackdrop]="config().showBackdrop"
  [closeOnBackdrop]="config().closeOnBackdrop"
  [closeOnEsc]="config().closeOnEsc"
  [centered]="config().centered"
  [draggable]="config().draggable"
  [resizable]="config().resizable"
  [showMaximizeButton]="config().showMaximizeButton"
  [loading]="config().loading"
  [avWidth]="config().avWidth || undefined"
  [avHeight]="config().avHeight || undefined"
>
  <div modal-body>
    <div style="padding: 16px 0">
      <p>–≠—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —á–µ—Ä–µ–∑ Playground.</p>
      <p style="color: #666; margin-top: 8px">
        –í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –µ–≥–æ –∏–ª–∏ –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–ø—Ü–∏–∏.
      </p>

      <div style="margin-top: 24px; padding: 12px; background: #f5f5f5; border-radius: 4px">
        <code style="font-size: 12px">Current state: {{ config().size }} | {{ config().position }}</code>
      </div>
    </div>
  </div>
  <div modal-footer>
    <button av-button avType="default" (clicked)="playgroundModalOpen.set(false)">–û—Ç–º–µ–Ω–∞</button>
    <button av-button avType="primary" (clicked)="playgroundModalOpen.set(false)">–ü—Ä–∏–Ω—è—Ç—å</button>
  </div>
</av-modal>

<!-- MODAL FOR SIZE EXAMPLES -->
<av-modal
  [(isOpen)]="exampleSizeOpen"
  [title]="'–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞: ' + currentExampleSize()"
  [size]="currentExampleSize()"
>
  <div modal-body>
    <p>
      –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Ä–∞–∑–º–µ—Ä–∞ <strong>{{ currentExampleSize() }}</strong>
    </p>
  </div>
  <div modal-footer>
    <button av-button avType="primary" (clicked)="exampleSizeOpen.set(false)">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</av-modal>

<!-- MODAL FOR POSITION EXAMPLES -->
<av-modal
  [(isOpen)]="examplePositionOpen"
  [title]="'–ü–æ–∑–∏—Ü–∏—è: ' + currentExamplePosition()"
  [position]="currentExamplePosition()"
>
  <div modal-body>
    <p>
      –≠—Ç–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –≤ –ø–æ–∑–∏—Ü–∏–∏: <strong>{{ currentExamplePosition() }}</strong>
    </p>
  </div>
  <div modal-footer>
    <button av-button avType="primary" (clicked)="examplePositionOpen.set(false)">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</av-modal>

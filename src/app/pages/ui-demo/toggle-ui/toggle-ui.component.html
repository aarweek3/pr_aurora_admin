<div class="ui-demo toggle-playground">
  <!-- Header -->
  <div class="ui-demo__header">
    <h1>Toggle / Switch Directive</h1>
    <p>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (Toggle) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π iOS-—Å—Ç–∏–ª—è, Signal API –∏ –ø–æ–ª–Ω–æ–π –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–µ–π.</p>
  </div>

  <!-- 1. Interactive Playground -->
  <div class="playground-container">
    <div nz-row [nzGutter]="32">
      <!-- Left: Controls -->
      <div nz-col [nzXs]="24" [nzLg]="10">
        <nz-card nzTitle="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" class="api-docs-card">
          <div class="control-panel">
            <!-- 1. Implementation Type -->
            <div class="control-item">
              <label nz-tooltip nzTooltipTitle="–°–ø–æ—Å–æ–± —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è">
                –¢–∏–ø —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: <span class="info-icon">‚ìò</span>
              </label>
              <nz-select [ngModel]="pgType()" (ngModelChange)="pgType.set($event)" style="width: 100%">
                <nz-option nzValue="directive" nzLabel="Directive (avToggle)"></nz-option>
                <nz-option nzValue="component" nzLabel="Component (av-toggle)"></nz-option>
                <nz-option nzValue="labeled" nzLabel="Labeled Component (iOS Style)"></nz-option>
              </nz-select>
            </div>

            <!-- 2. Styles (Size & Shape) -->
            <div nz-row [nzGutter]="16">
              <div nz-col [nzSpan]="12">
                <div class="control-item">
                  <label nz-tooltip nzTooltipTitle="–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã">
                    –†–∞–∑–º–µ—Ä: <span class="info-icon">‚ìò</span>
                  </label>
                  <nz-select [ngModel]="pgSize()" (ngModelChange)="pgSize.set($event)" style="width: 100%">
                    <nz-option nzValue="small" nzLabel="Small"></nz-option>
                    <nz-option nzValue="default" nzLabel="Default"></nz-option>
                    <nz-option nzValue="large" nzLabel="Large"></nz-option>
                    <nz-option nzValue="custom" nzLabel="Custom (–°–≤–æ–π —Ä–∞–∑–º–µ—Ä)"></nz-option>
                  </nz-select>
                </div>
              </div>
              <div nz-col [nzSpan]="12">
                <div class="control-item">
                  <label nz-tooltip nzTooltipTitle="–§–æ—Ä–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è">
                    –§–æ—Ä–º–∞: <span class="info-icon">‚ìò</span>
                  </label>
                  <nz-select [ngModel]="pgShape()" (ngModelChange)="pgShape.set($event)" style="width: 100%">
                    <nz-option nzValue="default" nzLabel="Rounded (Default)"></nz-option>
                    <nz-option nzValue="square" nzLabel="Square (Sharp)"></nz-option>
                  </nz-select>
                </div>
              </div>
            </div>

            <!-- 3. Content (Label) & Styling -->
            @if (pgType() === 'component' || pgType() === 'labeled') {
            <div class="control-item">
              <label nz-tooltip nzTooltipTitle="–¢–µ–∫—Å—Ç —Ä—è–¥–æ–º –∏–ª–∏ –≤–Ω—É—Ç—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è">
                –¢–µ–∫—Å—Ç –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ: <span class="info-icon">‚ìò</span>
              </label>
              <div style="display: flex; gap: 8px; margin-bottom: 10px">
                @if (pgType() === 'component') {
                <input
                  nz-input
                  [ngModel]="pgLabel()"
                  (ngModelChange)="pgLabel.set($event)"
                  style="flex: 1"
                  placeholder="–¢–µ–∫—Å—Ç –º–µ—Ç–∫–∏"
                />
                } @else {
                <input
                  nz-input
                  [ngModel]="pgLeftLabel()"
                  (ngModelChange)="pgLeftLabel.set($event)"
                  placeholder="OFF"
                  style="width: 50%"
                />
                <input
                  nz-input
                  [ngModel]="pgRightLabel()"
                  (ngModelChange)="pgRightLabel.set($event)"
                  placeholder="ON"
                  style="width: 50%"
                />
                }
              </div>

              @if (pgType() === 'component') {
              <div nz-row [nzGutter]="12">
                <div nz-col [nzSpan]="12">
                  <nz-select
                    [ngModel]="pgLabelPosition()"
                    (ngModelChange)="pgLabelPosition.set($event)"
                    nzPlaceHolder="–ü–æ–∑–∏—Ü–∏—è"
                    style="width: 100%"
                  >
                    <nz-option nzValue="left" nzLabel="–°–ª–µ–≤–∞"></nz-option>
                    <nz-option nzValue="right" nzLabel="–°–ø—Ä–∞–≤–∞"></nz-option>
                    <nz-option nzValue="top" nzLabel="–ù–∞–¥"></nz-option>
                    <nz-option nzValue="bottom" nzLabel="–ü–æ–¥"></nz-option>
                  </nz-select>
                </div>
                <div nz-col [nzSpan]="12">
                  <nz-input-group nzAddOnAfter="px">
                    <input
                      nz-input
                      [ngModel]="pgLabelSize()"
                      (ngModelChange)="pgLabelSize.set($event)"
                      placeholder="14px"
                    />
                  </nz-input-group>
                </div>
              </div>
              <div style="margin-top: 8px; display: flex; align-items: center; gap: 8px">
                <span style="font-size: 12px; color: #8c8c8c">–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞:</span>
                <nz-color-picker
                  [ngModel]="pgLabelColor()"
                  (ngModelChange)="pgLabelColor.set($event)"
                  nzSize="small"
                ></nz-color-picker>
                <input
                  nz-input
                  [ngModel]="pgLabelColor()"
                  (ngModelChange)="pgLabelColor.set($event)"
                  style="flex: 1; height: 28px"
                />
              </div>
              }
            </div>
            }

            <!-- Custom Sizing (Shown only when pgSize() === 'custom') -->
            @if (pgSize() === 'custom') {
            <div class="control-item" style="padding: 12px; background: #fafafa; border-radius: 8px">
              <label style="font-weight: 500; font-size: 13px; margin-bottom: 12px; display: block">
                –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä (Custom API)
              </label>
              <div nz-row [nzGutter]="12">
                <div nz-col [nzSpan]="8">
                  <nz-input-group nzPrefix="W" nzSuffix="px">
                    <input
                      type="number"
                      nz-input
                      [ngModel]="pgWidth()"
                      (ngModelChange)="pgWidth.set($event)"
                      placeholder="Auto"
                    />
                  </nz-input-group>
                </div>
                <div nz-col [nzSpan]="8">
                  <nz-input-group nzPrefix="H" nzSuffix="px">
                    <input
                      type="number"
                      nz-input
                      [ngModel]="pgHeight()"
                      (ngModelChange)="pgHeight.set($event)"
                      placeholder="Auto"
                    />
                  </nz-input-group>
                </div>
                <div nz-col [nzSpan]="8">
                  <nz-input-group nzPrefix="R" nzSuffix="px">
                    <input
                      type="number"
                      nz-input
                      [ngModel]="pgRadius()"
                      (ngModelChange)="pgRadius.set($event)"
                      placeholder="Auto"
                    />
                  </nz-input-group>
                </div>
              </div>
            </div>
            }

            <!-- 5. Color Settings -->
            <div class="control-item">
              <label nz-tooltip nzTooltipTitle="–ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Ü–≤–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—é">
                –¶–≤–µ—Ç —Ç–æ–≥–≥–ª–∞: <span class="info-icon">‚ìò</span>
              </label>
              <div style="display: flex; flex-direction: column; gap: 10px">
                <div style="display: flex; gap: 8px; align-items: center; flex-wrap: wrap">
                  @for (color of colorPresets; track color) {
                  <div
                    class="color-preset"
                    [style.background-color]="
                      color === 'primary'
                        ? '#1890ff'
                        : color === 'success'
                        ? '#52c41a'
                        : color === 'warning'
                        ? '#faad14'
                        : color === 'danger'
                        ? '#ff4d4f'
                        : color
                    "
                    [class.active]="pgColor() === color"
                    (click)="pgColor.set(color)"
                  ></div>
                  }
                </div>

                <div style="display: flex; gap: 8px; align-items: center">
                  <nz-color-picker [ngModel]="pgColor()" (ngModelChange)="pgColor.set($event)"></nz-color-picker>
                  <input
                    nz-input
                    [ngModel]="pgColor()"
                    (ngModelChange)="pgColor.set($event)"
                    placeholder="HEX –∏–ª–∏ CSS color"
                    style="flex: 1; height: 32px"
                  />
                </div>
              </div>
            </div>

            <!-- 5. States -->
            <div class="states-box">
              <div nz-row [nzGutter]="16">
                <div nz-col [nzSpan]="12">
                  <div class="state-switch">
                    <span>Checked</span>
                    <nz-switch
                      [ngModel]="pgChecked()"
                      (ngModelChange)="pgChecked.set($event)"
                      nzSize="small"
                    ></nz-switch>
                  </div>
                </div>
                <div nz-col [nzSpan]="12">
                  <div class="state-switch">
                    <span>Disabled</span>
                    <nz-switch
                      [ngModel]="pgDisabled()"
                      (ngModelChange)="pgDisabled.set($event)"
                      nzSize="small"
                    ></nz-switch>
                  </div>
                </div>
              </div>
            </div>

            <div style="margin-top: 20px">
              <button av-button avType="dashed" [avBlock]="true" (click)="resetAllSettings()">
                –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
              </button>
            </div>
          </div>
        </nz-card>
      </div>

      <!-- Right: Preview & Code -->
      <div nz-col [nzXs]="24" [nzLg]="14">
        <nz-card nzTitle="–†–µ–∑—É–ª—å—Ç–∞—Ç">
          <div class="preview-area" style="min-height: 250px">
            @if (refreshTrigger()) {
            <div style="display: flex; flex-direction: column; align-items: center; gap: 16px">
              @if (pgType() === 'directive') {
              <label class="av-toggle">
                <input
                  type="checkbox"
                  avToggle
                  [ngModel]="pgChecked()"
                  (ngModelChange)="pgChecked.set($event)"
                  [avSize]="appliedSize()"
                  [avColor]="pgColor()"
                  [avShape]="pgShape()"
                  [avWidth]="pgSize() === 'custom' ? pgWidth() : null"
                  [avHeight]="pgSize() === 'custom' ? pgHeight() : null"
                  [avRadius]="pgSize() === 'custom' ? pgRadius() : null"
                  [disabled]="pgDisabled()"
                />
                <span class="av-toggle__slider"></span>
              </label>
              } @else if (pgType() === 'component') {
              <av-toggle
                [checked]="pgChecked()"
                (checkedChange)="pgChecked.set($event)"
                [size]="appliedSize()"
                [color]="pgColor()"
                [shape]="pgShape()"
                [labelPosition]="pgLabelPosition()"
                [labelSize]="pgLabelSize()"
                [labelColor]="pgLabelColor()"
                [width]="pgSize() === 'custom' ? pgWidth() : null"
                [height]="pgSize() === 'custom' ? pgHeight() : null"
                [radius]="pgSize() === 'custom' ? pgRadius() : null"
                [disabled]="pgDisabled()"
              >
                {{ pgLabel() }}
              </av-toggle>
              } @else if (pgType() === 'labeled') {
              <av-toggle-labeled
                [checked]="pgChecked()"
                (checkedChange)="pgChecked.set($event)"
                [size]="appliedSize()"
                [color]="pgColor()"
                [shape]="pgShape()"
                [leftLabel]="pgLeftLabel()"
                [rightLabel]="pgRightLabel()"
                [width]="pgSize() === 'custom' ? pgWidth() : null"
                [height]="pgSize() === 'custom' ? pgHeight() : null"
                [radius]="pgSize() === 'custom' ? pgRadius() : null"
                [disabled]="pgDisabled()"
              ></av-toggle-labeled>
              }

              <div style="font-size: 12px; color: #8c8c8c; margin-top: 12px; font-family: monospace">
                checked: <strong [style.color]="pgChecked() ? '#52c41a' : '#ff4d4f'">{{ pgChecked() }}</strong>
              </div>
            </div>
            }
          </div>

          <div style="margin-top: 24px">
            <av-help-copy-container
              title="–°–ì–ï–ù–ï–†–ò–†–û–í–ê–ù–ù–´–ô –ö–û–î"
              [content]="pgGeneratedCode()"
              bgColor="#1e2227"
              [showCopy]="true"
            ></av-help-copy-container>
          </div>
        </nz-card>
      </div>
    </div>
  </div>

  <!-- 2. Technical Documentation -->
  <div style="margin-top: 48px">
    <div style="margin-bottom: 16px; display: flex; align-items: center; gap: 8px">
      <h2 style="margin: 0; font-size: 20px; font-weight: 600">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Inputs)</h2>
      <span
        nz-icon
        nzType="question-circle"
        nzTheme="outline"
        style="cursor: help; color: #1890ff; font-size: 18px"
        nz-tooltip
        nzTooltipTitle="–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ø—Ä–∞–≤–∫–∏"
        (click)="showDocs = !showDocs"
      ></span>
    </div>

    @if (showDocs) {
    <nz-card nzTitle="–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: Toggle Component" class="api-docs-card" style="margin-bottom: 24px">
      <div class="docs-summary">
        <p>
          <strong>Toggle</strong> ‚Äî —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π —Ç—Ä–∏ —Ä–µ–∂–∏–º–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
        </p>
        <ul>
          <li>
            <strong>Directive (avToggle):</strong> –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –Ω–∞—Ç–∏–≤–Ω–æ–º—É
            <code>&lt;input type=&quot;checkbox&quot;&gt;</code>.
          </li>
          <li>
            <strong>Component (&lt;av-toggle&gt;):</strong> –ì–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–Ω–µ—à–Ω–∏—Ö –ª–µ–π–±–ª–æ–≤ –∏
            –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
          </li>
          <li>
            <strong>Labeled (&lt;av-toggle-labeled&gt;):</strong> –°—Ç–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å –ø–æ–¥–ø–∏—Å—è–º–∏ –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–µ–∫–∞.
          </li>
        </ul>
        <p style="margin-top: 12px">
          –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "?" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∏–∂–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö
          –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
        </p>
      </div>
    </nz-card>
    }

    <nz-card class="api-docs-card">
      <av-help-copy-container
        title="Interface: AvToggleProps"
        [content]="apiInterfaceCode"
        bgColor="#0a0e1a"
      ></av-help-copy-container>

      <div style="margin-top: 24px; padding: 16px; background: #fffbe6; border: 1px solid #ffe58f; border-radius: 8px">
        <h4 style="margin-bottom: 8px; color: #856404">üí° –ü–æ–ª–µ–∑–Ω—ã–π —Å–æ–≤–µ—Ç</h4>
        <p style="margin: 0; font-size: 13px; color: #856404">
          –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>av-toggle</code> –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ñ–æ—Ä–º —Å –ø–æ–¥–ø–∏—Å—è–º–∏, –∞ <code>avToggle</code> –¥–∏—Ä–µ–∫—Ç–∏–≤—É ‚Äî –∫–æ–≥–¥–∞
          –≤–∞–º –Ω—É–∂–µ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤–µ—Ä—Å—Ç–∫–æ–π –∏–ª–∏ –≤—ã –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –Ω–∞—Ç–∏–≤–Ω—ã–π —á–µ–∫–±–æ–∫—Å.
        </p>
      </div>
    </nz-card>
  </div>

  <!-- Toast Notification -->
  @if (message()) {
  <div class="message-display">
    {{ message() }}
  </div>
  }
</div>

<av-showcase [config]="showcaseConfig" [generatedCodeInput]="codeForShowcase()">
  <!-- LEFT: Tabs & Controls -->
  <div showcase-tabs>
    <nz-tabset [nzAnimated]="false">
      <!-- 1. Playground -->
      <nz-tab nzTitle="üéÆ Playground">
        <div class="picker-controls" style="padding: 16px 0">
          <nz-card nzTitle="üéõÔ∏è –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã" class="control-card" style="margin-bottom: 16px">
            <div class="control-group">
              <div class="control-item">
                <label style="display: block; margin-bottom: 8px; font-weight: 500">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º (mode):</label>
                <nz-radio-group
                  [ngModel]="selectedMode()"
                  (ngModelChange)="selectedMode.set($event)"
                  style="display: flex; flex-direction: column; gap: 8px"
                >
                  @for (mode of modes; track mode.value) {
                  <label nz-radio [nzValue]="mode.value">{{ mode.label }}</label>
                  }
                </nz-radio-group>
              </div>
            </div>
          </nz-card>

          <nz-card nzTitle="üöÄ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è" class="control-card">
            <div class="action-buttons" style="display: flex; gap: 8px; flex-wrap: wrap">
              <button av-button avSize="small" avType="default" (click)="resetToDefaults()">üîÑ –°–±—Ä–æ—Å</button>
              <button av-button avSize="small" avType="primary" (click)="applyAuroraTheme()">üåä Aurora Theme</button>
              <button av-button avSize="small" avType="default" (click)="applyDarkTheme()">üåô Dark Theme</button>
              <button av-button avSize="small" avType="dashed" (click)="generateRandomColor()">üé≤ Random</button>
            </div>
          </nz-card>
        </div>
      </nz-tab>

      <!-- 2. –ö–æ–¥ (–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π) -->
      <nz-tab nzTitle="üíª –ö–æ–¥">
        <div class="demo-form">
          <div *ngIf="documentationConfig.interactiveExample" style="margin-bottom: 32px">
            <h4>{{ documentationConfig.interactiveExample.title }}</h4>
            <p style="color: #666; margin-bottom: 16px">{{ documentationConfig.interactiveExample.description }}</p>

            <h5>HTML –∫–æ–¥:</h5>
            <pre
              style="background: #f5f5f5; padding: 16px; border-radius: 6px; margin-bottom: 16px"
            ><code>{{ generatedCode().html }}</code></pre>

            <h5>TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:</h5>
            <pre
              style="background: #f5f5f5; padding: 16px; border-radius: 6px; margin-bottom: 16px"
            ><code>{{ generatedCode().typescript }}</code></pre>

            <div style="display: flex; gap: 8px; margin-bottom: 16px">
              <button nz-button nzType="primary" nzSize="small" (click)="copyCode()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ</button>
            </div>
          </div>

          <!-- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ -->
          <div *ngFor="let example of documentationConfig.codeExamples; let i = index" style="margin-bottom: 32px">
            <h4>{{ example.title }}</h4>
            <p *ngIf="example.description" style="color: #666; margin-bottom: 16px">{{ example.description }}</p>

            <h5>HTML:</h5>
            <pre
              style="background: #f5f5f5; padding: 16px; border-radius: 6px; margin-bottom: 16px"
            ><code>{{ example.htmlCode }}</code></pre>

            <h5>TypeScript:</h5>
            <pre
              style="background: #f5f5f5; padding: 16px; border-radius: 6px; margin-bottom: 16px"
            ><code>{{ example.tsCode }}</code></pre>
          </div>
        </div>
      </nz-tab>

      <!-- 3. –ü—Ä–∏–º–µ—Ä—ã -->
      <nz-tab nzTitle="üìö –ü—Ä–∏–º–µ—Ä—ã">
        <div class="demo-form">
          <div *ngFor="let example of documentationConfig.usageExamples; let i = index" style="margin-bottom: 32px">
            <h4>{{ example.title }}</h4>
            <p *ngIf="example.description" style="color: #666; margin-bottom: 16px">{{ example.description }}</p>

            <h5>HTML:</h5>
            <pre
              style="background: #f5f5f5; padding: 16px; border-radius: 6px; margin-bottom: 16px"
            ><code>{{ example.htmlCode }}</code></pre>

            <h5 *ngIf="example.tsCode">TypeScript:</h5>
            <pre
              *ngIf="example.tsCode"
              style="background: #f5f5f5; padding: 16px; border-radius: 6px; margin-bottom: 16px"
            ><code>{{ example.tsCode }}</code></pre>
          </div>
        </div>
      </nz-tab>

      <!-- 4. API -->
      <nz-tab nzTitle="üìñ API">
        <div class="demo-form">
          <!-- –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (inputs) -->
          <div *ngIf="documentationConfig.apiDetails.inputs.length" style="margin-bottom: 32px">
            <h4>üì• –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (Inputs)</h4>
            <div class="api-table-wrapper">
              <table class="api-table" style="width: 100%; border-collapse: collapse; margin-bottom: 16px">
                <thead>
                  <tr style="background: #fafafa; border-bottom: 1px solid #d9d9d9">
                    <th style="padding: 12px; text-align: left; border-right: 1px solid #d9d9d9">–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                    <th style="padding: 12px; text-align: left; border-right: 1px solid #d9d9d9">–¢–∏–ø</th>
                    <th style="padding: 12px; text-align: left; border-right: 1px solid #d9d9d9">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</th>
                    <th style="padding: 12px; text-align: left">–û–ø–∏—Å–∞–Ω–∏–µ</th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    *ngFor="let input of documentationConfig.apiDetails.inputs"
                    style="border-bottom: 1px solid #f0f0f0"
                  >
                    <td style="padding: 12px; border-right: 1px solid #f0f0f0">
                      <code style="background: #f5f5f5; padding: 2px 6px; border-radius: 3px">{{ input.name }}</code>
                      <span *ngIf="input.required" style="color: #ff4d4f; margin-left: 4px">*</span>
                    </td>
                    <td style="padding: 12px; border-right: 1px solid #f0f0f0">
                      <code style="color: #1890ff">{{ input.type }}</code>
                    </td>
                    <td style="padding: 12px; border-right: 1px solid #f0f0f0">
                      <code style="color: #52c41a">{{ input.defaultValue || '‚Äî' }}</code>
                    </td>
                    <td style="padding: 12px">{{ input.description }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- –í—ã—Ö–æ–¥–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (outputs) -->
          <div *ngIf="documentationConfig.apiDetails.outputs.length" style="margin-bottom: 32px">
            <h4>üì§ –°–æ–±—ã—Ç–∏—è (Outputs)</h4>
            <div class="api-table-wrapper">
              <table class="api-table" style="width: 100%; border-collapse: collapse; margin-bottom: 16px">
                <thead>
                  <tr style="background: #fafafa; border-bottom: 1px solid #d9d9d9">
                    <th style="padding: 12px; text-align: left; border-right: 1px solid #d9d9d9">–°–æ–±—ã—Ç–∏–µ</th>
                    <th style="padding: 12px; text-align: left; border-right: 1px solid #d9d9d9">–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö</th>
                    <th style="padding: 12px; text-align: left">–û–ø–∏—Å–∞–Ω–∏–µ</th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    *ngFor="let output of documentationConfig.apiDetails.outputs"
                    style="border-bottom: 1px solid #f0f0f0"
                  >
                    <td style="padding: 12px; border-right: 1px solid #f0f0f0">
                      <code style="background: #f5f5f5; padding: 2px 6px; border-radius: 3px">{{ output.name }}</code>
                    </td>
                    <td style="padding: 12px; border-right: 1px solid #f0f0f0">
                      <code style="color: #1890ff">{{ output.type }}</code>
                    </td>
                    <td style="padding: 12px">{{ output.description }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </nz-tab>
    </nz-tabset>
  </div>

  <!-- RIGHT BLOCK 1: Preview -->
  <div showcase-result class="color-picker-preview">
    <div class="picker-container-clean">
      <av-picker
        [mode]="selectedMode()"
        [(selectedColor)]="selectedColor"
        [customColors]="customColors()"
        [allowTransparent]="false"
        [showInput]="true"
        [showWrapper]="false"
        [showBorder]="false"
      >
      </av-picker>
    </div>

    <div class="color-demo-live">
      <div class="demo-items">
        <button
          av-button
          avType="primary"
          [style.background-color]="selectedColor()"
          [style.border-color]="selectedColor()"
        >
          –ü—Ä–∏–º–µ—Ä –∫–Ω–æ–ø–∫–∏
        </button>
        <av-icon type="system/av_star" [size]="48" [color]="selectedColor()"> </av-icon>
        <div class="color-value-live" [style.color]="selectedColor()">
          {{ selectedColor() }}
        </div>
      </div>
      <p class="demo-description">–í—ã–±—Ä–∞–Ω–Ω—ã–π —Ü–≤–µ—Ç –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ UI —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</p>
    </div>
  </div>

  <!-- RIGHT BLOCK 3: Description -->
  <div showcase-description>
    <div class="current-state">
      <div class="state-item">
        <span class="state-label">–¶–≤–µ—Ç:</span>
        <span class="state-value" [style.color]="selectedColor()">{{ selectedColor() }}</span>
      </div>
      <div class="state-item">
        <span class="state-label">–†–µ–∂–∏–º:</span>
        <span class="state-value">{{ selectedMode() }}</span>
      </div>
      <div class="state-item">
        <span class="state-label">–í–µ—Ä—Å–∏—è:</span>
        <span class="state-value">v2.1 (Signals)</span>
      </div>
    </div>
  </div>

  <!-- Showcase Examples -->
  <div showcase-examples>
    <div class="demo-form">
      <div *ngFor="let example of documentationConfig.usageExamples" style="margin-bottom: 32px">
        <h4>{{ example.title }}</h4>
        <p *ngIf="example.description" style="color: #666; margin-bottom: 16px">{{ example.description }}</p>

        <h5>HTML:</h5>
        <pre
          style="background: #f5f5f5; padding: 16px; border-radius: 6px; margin-bottom: 16px"
        ><code>{{ example.htmlCode }}</code></pre>

        <h5 *ngIf="example.tsCode">TypeScript:</h5>
        <pre
          *ngIf="example.tsCode"
          style="background: #f5f5f5; padding: 16px; border-radius: 6px; margin-bottom: 16px"
        ><code>{{ example.tsCode }}</code></pre>
      </div>
    </div>
  </div>

  <!-- BOTTOM: Documentation -->
  <div showcase-docs>
    <control-documentation [config]="documentationConfig"></control-documentation>
  </div>
</av-showcase>

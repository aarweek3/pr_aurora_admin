<av-showcase [config]="showcaseConfig" [generatedCodeInput]="codeForShowcase()">
  <!-- TAB SECTION: TABS & CONTROLS -->
  <div showcase-tabs>
    <nz-tabset [nzAnimated]="false">
      <!-- 1. PLAYGROUND -->
      <nz-tab nzTitle="üéÆ Playground">
        <div class="demo-form">
          <h3 class="form-section-title">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</h3>
          <div class="control-group">
            <nz-radio-group
              [ngModel]="config().type"
              (ngModelChange)="updateConfig('type', $event)"
              nzButtonStyle="solid"
              [disabled]="config().isLabeled"
            >
              @for (t of types; track t.value) {
              <label nz-radio-button [nzValue]="t.value">{{ t.label }}</label>
              }
            </nz-radio-group>
          </div>

          <h3 class="form-section-title">–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</h3>
          <div class="control-group checkbox-group" style="margin-bottom: 20px">
            <nz-switch [ngModel]="config().isLabeled" (ngModelChange)="updateConfig('isLabeled', $event)"></nz-switch>
            <span class="label"><strong>–° –ø–æ–¥–ø–∏—Å—è–º–∏ (av-toggle-labeled)</strong></span>
          </div>
          <div class="control-row">
            <div class="control-group">
              <label class="control-label">–†–∞–∑–º–µ—Ä (Size):</label>
              <nz-select
                [ngModel]="config().size"
                (ngModelChange)="updateConfig('size', $event)"
                [disabled]="config().useCustomSize"
              >
                @for (s of sizes; track s.value) {
                <nz-option [nzLabel]="s.label" [nzValue]="s.value"></nz-option>
                }
              </nz-select>
            </div>
            <div class="control-group">
              <label class="control-label">–§–æ—Ä–º–∞ (Shape):</label>
              <nz-select [ngModel]="config().shape" (ngModelChange)="updateConfig('shape', $event)">
                @for (sh of shapes; track sh.value) {
                <nz-option [nzLabel]="sh.label" [nzValue]="sh.value"></nz-option>
                }
              </nz-select>
            </div>
          </div>

          <div class="control-group">
            <label class="control-label">–¶–≤–µ—Ç (Color):</label>
            <div class="color-picker-row">
              <nz-select [ngModel]="config().color" (ngModelChange)="updateConfig('color', $event)" style="flex: 1">
                @for (c of colors; track c.value) {
                <nz-option [nzLabel]="c.label" [nzValue]="c.value"></nz-option>
                }
              </nz-select>
              <input
                type="color"
                [ngModel]="config().color"
                (ngModelChange)="updateConfig('color', $event)"
                nz-input
                style="width: 50px; padding: 2px"
              />
            </div>
          </div>

          @if (!config().isLabeled && config().type === 'component') {
          <h3 class="form-section-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–∫—Å—Ç–∞ (Label)</h3>
          <div class="control-group">
            <label class="control-label">–¢–µ–∫—Å—Ç –ª–µ–π–±–ª–∞:</label>
            <input
              nz-input
              [ngModel]="config().label"
              (ngModelChange)="updateConfig('label', $event)"
              placeholder="Enter label text"
            />
          </div>
          <div class="control-row">
            <div class="control-group">
              <label class="control-label">–ü–æ–∑–∏—Ü–∏—è:</label>
              <nz-select [ngModel]="config().labelPosition" (ngModelChange)="updateConfig('labelPosition', $event)">
                @for (p of positions; track p.value) {
                <nz-option [nzLabel]="p.label" [nzValue]="p.value"></nz-option>
                }
              </nz-select>
            </div>
            <div class="control-group">
              <label class="control-label">–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:</label>
              <input
                nz-input
                [ngModel]="config().labelSize"
                (ngModelChange)="updateConfig('labelSize', $event)"
                placeholder="e.g. 14px"
              />
            </div>
          </div>
          } @if (config().isLabeled) {
          <h3 class="form-section-title">–ú–µ—Ç–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ (Labeled)</h3>
          <div class="control-row">
            <div class="control-group">
              <label class="control-label">–°–ª–µ–≤–∞ (OFF):</label>
              <input nz-input [ngModel]="config().leftLabel" (ngModelChange)="updateConfig('leftLabel', $event)" />
            </div>
            <div class="control-group">
              <label class="control-label">–°–ø—Ä–∞–≤–∞ (ON):</label>
              <input nz-input [ngModel]="config().rightLabel" (ngModelChange)="updateConfig('rightLabel', $event)" />
            </div>
          </div>
          }

          <h3 class="form-section-title">–ö–∞—Å—Ç–æ–º–Ω—ã–µ –≥–∞–±–∞—Ä–∏—Ç—ã</h3>
          <div class="control-group checkbox-group">
            <nz-switch
              [ngModel]="config().useCustomSize"
              (ngModelChange)="updateConfig('useCustomSize', $event)"
            ></nz-switch>
            <span class="label">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Ä–∞–∑–º–µ—Ä—ã (px)</span>
          </div>

          @if (config().useCustomSize) {
          <div class="control-row">
            <div class="control-group">
              <label class="control-label">–®–∏—Ä–∏–Ω–∞ (Width):</label>
              <nz-input-number
                [ngModel]="config().width"
                (ngModelChange)="updateConfig('width', $event)"
                style="width: 100%"
              ></nz-input-number>
            </div>
            <div class="control-group">
              <label class="control-label">–í—ã—Å–æ—Ç–∞ (Height):</label>
              <nz-input-number
                [ngModel]="config().height"
                (ngModelChange)="updateConfig('height', $event)"
                style="width: 100%"
              ></nz-input-number>
            </div>
          </div>
          <div class="control-group">
            <label class="control-label">–†–∞–¥–∏—É—Å (Radius):</label>
            <nz-input-number
              [ngModel]="config().radius"
              (ngModelChange)="updateConfig('radius', $event)"
              style="width: 100%"
            ></nz-input-number>
          </div>
          }

          <div class="control-group checkbox-group" style="margin-top: 24px">
            <nz-switch [ngModel]="config().disabled" (ngModelChange)="updateConfig('disabled', $event)"></nz-switch>
            <span class="label">–û—Ç–∫–ª—é—á–∏—Ç—å (Disabled)</span>
          </div>
        </div>
      </nz-tab>

      <!-- 2. CODE -->
      <nz-tab nzTitle="üíª –ö–æ–¥">
        <div class="demo-form">
          <div class="code-block-container" style="margin-top: 0">
            <div class="code-header">
              <span>HTML Template</span>
              <button class="copy-btn" (click)="copyToClipboard(generatedCode().html)">üìã</button>
            </div>
            <pre><code>{{ generatedCode().html }}</code></pre>
          </div>

          <div class="code-block-container" style="margin-top: 24px">
            <div class="code-header">
              <span>TypeScript Example</span>
              <button class="copy-btn" (click)="copyToClipboard(generatedCode().typescript)">üìã</button>
            </div>
            <pre><code>{{ generatedCode().typescript }}</code></pre>
          </div>
        </div>
      </nz-tab>

      <!-- 3. EXAMPLES -->
      <nz-tab nzTitle="üìö –ü—Ä–∏–º–µ—Ä—ã">
        <div class="demo-form">
          <p>–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.</p>
        </div>
      </nz-tab>

      <!-- 4. API -->
      <nz-tab nzTitle="üìñ API">
        <div class="demo-form">
          <control-documentation [config]="documentationConfig"></control-documentation>
        </div>
      </nz-tab>
    </nz-tabset>
  </div>

  <!-- RESULT: LIVE PREVIEW -->
  <div showcase-result>
    <div class="preview-container">
      <div class="live-demo-wrapper">
        <!-- –†–µ–∂–∏–º Labeled -->
        @if (config().isLabeled) {
        <av-toggle-labeled
          [(checked)]="config().checked"
          [size]="config().size"
          [color]="config().color"
          [shape]="config().shape"
          [leftLabel]="config().leftLabel"
          [rightLabel]="config().rightLabel"
          [disabled]="config().disabled"
        ></av-toggle-labeled>
        } @else {
        <!-- –†–µ–∂–∏–º –î–∏—Ä–µ–∫—Ç–∏–≤—ã -->
        @if (config().type === 'directive') {
        <label class="av-toggle">
          <input
            type="checkbox"
            avToggle
            [(ngModel)]="config().checked"
            [avSize]="config().size"
            [avColor]="config().color"
            [avShape]="config().shape"
            [avWidth]="config().width!"
            [avHeight]="config().height!"
            [avRadius]="config().radius!"
            [disabled]="config().disabled"
          />
          <span class="av-toggle__slider"></span>
        </label>
        }

        <!-- –†–µ–∂–∏–º –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ -->
        @if (config().type === 'component') {
        <av-toggle
          [(checked)]="config().checked"
          [size]="config().size"
          [color]="config().color"
          [shape]="config().shape"
          [labelPosition]="config().labelPosition"
          [labelSize]="config().labelSize"
          [labelColor]="config().labelColor"
          [width]="config().width!"
          [height]="config().height!"
          [radius]="config().radius!"
          [disabled]="config().disabled"
        >
          {{ config().label }}
        </av-toggle>
        } }
      </div>
    </div>
  </div>

  <!-- RESULT: DESCRIPTION -->
  <div showcase-description>
    <div class="dialog-info">
      <span class="info-title">üëÅÔ∏è –°—Ç–µ–π—Ç:</span>
      <span class="info-item"
        >Checked: <strong>{{ config().checked }}</strong></span
      >
      <span class="info-item"
        >Size: <strong>{{ config().size }}</strong></span
      >
      <span class="info-item"
        >Color: <strong>{{ config().color }}</strong></span
      >
      <span class="info-item"
        >Type: <strong>{{ config().isLabeled ? 'labeled' : config().type }}</strong></span
      >
    </div>
  </div>

  <!-- USAGE EXAMPLES (Bottom) -->
  <div showcase-examples>
    <div class="demo-form">
      <div class="example-grid">
        <!-- 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ -->
        <div class="example-block">
          <h4>1. –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ –∏ —Å—Ç–∞—Ç—É—Å—ã</h4>
          <p>–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–æ–≤—ã–µ –ø–∞–ª–∏—Ç—Ä—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.</p>
          <div class="example-preview row-stack">
            <av-toggle [checked]="true" color="primary">Primary</av-toggle>
            <av-toggle [checked]="true" color="success">Success</av-toggle>
            <av-toggle [checked]="true" color="warning">Warning</av-toggle>
            <av-toggle [checked]="true" color="danger">Danger</av-toggle>
          </div>
        </div>

        <!-- 2. –†–∞–∑–º–µ—Ä—ã –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ -->
        <div class="example-block">
          <h4>2. –†–∞–∑–º–µ—Ä—ã –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ</h4>
          <p>–¢—Ä–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –º–∏–∫—Ä–æ- –∏–ª–∏ –º–∞–∫—Ä–æ-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π.</p>
          <div class="example-preview row-stack" style="align-items: center">
            <div class="preview-item center">
              <av-toggle size="small" [checked]="true"></av-toggle>
              <span class="label">Small</span>
            </div>
            <div class="preview-item center">
              <av-toggle size="default" [checked]="true"></av-toggle>
              <span class="label">Default</span>
            </div>
            <div class="preview-item center">
              <av-toggle size="large" [checked]="true"></av-toggle>
              <span class="label">Large</span>
            </div>
            <div class="preview-item center">
              <av-toggle [checked]="true" [width]="100" [height]="40" [radius]="20"></av-toggle>
              <span class="label">Custom (100x40)</span>
            </div>
          </div>
        </div>

        <!-- 3. –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ -->
        <div class="example-block">
          <h4>3. –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–µ–π–±–ª–∞</h4>
          <p>–¢–µ–∫—Å—Ç –º–æ–∂–Ω–æ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å —Å –ª—é–±–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –æ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è.</p>
          <div class="example-preview row-stack">
            <av-toggle labelPosition="left" [checked]="true">–°–ª–µ–≤–∞</av-toggle>
            <av-toggle labelPosition="right" [checked]="true">–°–ø—Ä–∞–≤–∞</av-toggle>
            <av-toggle labelPosition="top" [checked]="true">–°–≤–µ—Ä—Ö—É</av-toggle>
            <av-toggle labelPosition="bottom" [checked]="true">–°–Ω–∏–∑—É</av-toggle>
          </div>
        </div>

        <!-- 4. –í–∞—Ä–∏–∞–Ω—Ç Labeled -->
        <div class="example-block">
          <h4>4. –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ (Labeled)</h4>
          <p>–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º –∏–ª–∏ —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π.</p>
          <div class="example-preview column-stack" style="align-items: center">
            <av-toggle-labeled [checked]="false" leftLabel="OFF" rightLabel="ON"></av-toggle-labeled>
            <av-toggle-labeled
              [checked]="true"
              leftLabel="Light"
              rightLabel="Dark"
              color="#111"
              shape="square"
            ></av-toggle-labeled>
            <av-toggle-labeled [checked]="true" leftLabel="RUS" rightLabel="ENG" color="danger"></av-toggle-labeled>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- BOTTOM: Documentation -->
  <div showcase-docs>
    <control-documentation [config]="documentationConfig"></control-documentation>
  </div>
</av-showcase>

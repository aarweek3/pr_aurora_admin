# Clear Formatting Plugin (–û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü–ª–∞–≥–∏–Ω –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ —Ä–µ–∂–∏–º–∞ –æ—á–∏—Å—Ç–∫–∏ —Å —Ä–∞–∑–ª–∏—á–Ω–æ–π —Å—Ç–µ–ø–µ–Ω—å—é –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üßπ –¢—Ä–∏ —Ä–µ–∂–∏–º–∞ –æ—á–∏—Å—Ç–∫–∏:

#### 1. **Light (–õ—ë–≥–∫–∞—è)** - `ClearMode.LIGHT`
- –£–¥–∞–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ inline —Å—Ç–∏–ª–∏ (`style="..."`)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ HTML —Ç–µ–≥–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–ª–∞—Å—Å—ã –∏ –∞—Ç—Ä–∏–±—É—Ç—ã

**–ü—Ä–∏–º–µ—Ä:**
```html
<!-- –î–æ -->
<p style="color: red; font-size: 20px">–ö—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç</p>

<!-- –ü–æ—Å–ª–µ -->
<p>–ö—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç</p>
```

#### 2. **Medium (–°—Ä–µ–¥–Ω—è—è)** - `ClearMode.MEDIUM` ‚≠ê **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**
- –£–¥–∞–ª—è–µ—Ç inline —Å—Ç–∏–ª–∏ (`style="..."`)
- –£–¥–∞–ª—è–µ—Ç –∫–ª–∞—Å—Å—ã (`class="..."`)
- **–£–¥–∞–ª—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—â–∏–µ —Ç–µ–≥–∏** (`<strong>`, `<em>`, `<u>`, `<s>`, `<span>` –∏ —Ç.–¥.)
- –£–¥–∞–ª—è–µ—Ç –≤—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∫—Ä–æ–º–µ –≤–∞–∂–Ω—ã—Ö
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç: `href`, `src`, `alt`, `title`, `id`, `name`
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Ç–µ–≥–∏: `<p>`, `<h1-h6>`, `<ul>`, `<ol>`, `<li>`, `<a>`

**–ü—Ä–∏–º–µ—Ä:**
```html
<!-- –î–æ -->
<p class="highlight" style="color: red" data-custom="value">
  <strong style="font-weight: 900">–ñ–∏—Ä–Ω—ã–π</strong> –∏ <em>–∫—É—Ä—Å–∏–≤–Ω—ã–π</em> —Ç–µ–∫—Å—Ç
</p>

<!-- –ü–æ—Å–ª–µ -->
<p>–ñ–∏—Ä–Ω—ã–π –∏ –∫—É—Ä—Å–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç</p>
```

#### 3. **Full (–ü–æ–ª–Ω–∞—è)** - `ClearMode.FULL`
- –£–¥–∞–ª—è–µ—Ç –í–°–ï —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Ç–µ–≥–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Ç–µ–≥–∏: `p`, `div`, `br`, `h1-h6`, `ul`, `ol`, `li`

**–ü—Ä–∏–º–µ—Ä:**
```html
<!-- –î–æ -->
<p style="color: red">
  <strong>–ñ–∏—Ä–Ω—ã–π</strong> –∏ <em>–∫—É—Ä—Å–∏–≤–Ω—ã–π</em> —Ç–µ–∫—Å—Ç
</p>

<!-- –ü–æ—Å–ª–µ -->
<p>–ñ–∏—Ä–Ω—ã–π –∏ –∫—É—Ä—Å–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç</p>
```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:

**–ö–Ω–æ–ø–∫–∞ toolbar:** `‚å´` (–∏–∫–æ–Ω–∫–∞ Backspace)

**–ì–æ—Ä—è—á–∞—è –∫–ª–∞–≤–∏—à–∞:** `Ctrl+\` (Ctrl + –æ–±—Ä–∞—Ç–Ω—ã–π —Å–ª—ç—à)

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```typescript
// –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞
const clearPlugin = new ClearFormattingPlugin();

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∂–∏–º–∞ –æ—á–∏—Å—Ç–∫–∏
clearPlugin.setMode(ClearMode.LIGHT);   // –õ—ë–≥–∫–∞—è
clearPlugin.setMode(ClearMode.MEDIUM);  // –°—Ä–µ–¥–Ω—è—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
clearPlugin.setMode(ClearMode.FULL);    // –ü–æ–ª–Ω–∞—è

// –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Ä–µ–∂–∏–º–æ–º
clearPlugin.execute(editorElement, { mode: ClearMode.FULL });

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞
const currentMode = clearPlugin.getMode(); // ClearMode.MEDIUM
```

---

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ

### –° –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º:
–ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤—ã–¥–µ–ª–µ–Ω, –æ—á–∏—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—ã–¥–µ–ª–µ–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å.

```html
<!-- –í—ã–¥–µ–ª–µ–Ω–æ: "–∫—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç" -->
<p>–û–±—ã—á–Ω—ã–π <span style="color: red">–∫—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç</span> –æ–±—ã—á–Ω—ã–π</p>

<!-- –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ -->
<p>–û–±—ã—á–Ω—ã–π –∫—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç –æ–±—ã—á–Ω—ã–π</p>
```

### –ë–µ–∑ –≤—ã–¥–µ–ª–µ–Ω–∏—è:
–ï—Å–ª–∏ –∫—É—Ä—Å–æ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–¥–µ–ª–µ–Ω–æ - –æ—á–∏—â–∞–µ—Ç—Å—è **–≤–µ—Å—å —Ä–µ–¥–∞–∫—Ç–æ—Ä**.

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –§–∞–π–ª—ã:
- **–ü–ª–∞–≥–∏–Ω:** `src/app/editor/plugins/format/clear-formatting.plugin.ts`
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:** `src/app/editor/components/aurora-editor.component.ts`
- **Toolbar:** `src/app/editor/components/toolbar/aurora-toolbar.component.ts`

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

```typescript
// aurora-editor.component.ts
this.plugins = [
  // ...
  new ClearFormattingPlugin(), // –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  // ...
];
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ toolbar:

```typescript
// aurora-toolbar.component.ts
get formatPlugins(): AuroraPlugin[] {
  return this.plugins.filter(
    (p) =>
      // ...
      p.name === 'clearFormatting' || // –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
      // ...
  );
}
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –û—á–∏—Å—Ç–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏–∑ Word

**–î–æ –≤—Å—Ç–∞–≤–∫–∏:**
```html
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; font-family: Calibri; font-size: 11pt">
  <span style="font-family: Arial; color: rgb(255, 0, 0); font-size: 14pt; font-weight: bold">
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∏–∑ Word
  </span>
</p>
```

**–ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ (Medium):**
```html
<p>–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∏–∑ Word</p>
```

### –ü—Ä–∏–º–µ—Ä 2: –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç–∏–ª–µ–π, –Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–î–æ:**
```html
<div style="background: #f0f0f0; padding: 20px">
  <h2 style="color: blue">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h2>
  <p style="text-align: justify; line-height: 1.8">
    <strong style="color: red">–í–∞–∂–Ω—ã–π</strong> —Ç–µ–∫—Å—Ç –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞
  </p>
</div>
```

**–ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ (Medium):**
```html
<div>
  <h2>–ó–∞–≥–æ–ª–æ–≤–æ–∫</h2>
  <p>
    <strong>–í–∞–∂–Ω—ã–π</strong> —Ç–µ–∫—Å—Ç –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞
  </p>
</div>
```

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–∞

**–î–æ:**
```html
<p>
  <span class="highlight" style="background: yellow">
    <strong>
      <em>–ú–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</em>
    </strong>
  </span>
</p>
```

**–ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ (Full):**
```html
<p>–ú–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
```

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã:

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è** –∏–ª–∏ –≤—Å–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
2. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** —É–∑–ª–æ–≤ DOM
3. **–†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞
4. **–ó–∞–º–µ–Ω–∞** –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –Ω–∞ –æ—á–∏—â–µ–Ω–Ω–æ–µ

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –±–æ–ª—å—à–∏–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- ‚úÖ –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç undo/redo

---

## –ì–æ—Ä—è—á–∞—è –∫–ª–∞–≤–∏—à–∞

**`Ctrl+\`** (Windows/Linux) –∏–ª–∏ **`Cmd+\`** (macOS)

–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ—á–∏—Å—Ç–∫–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º—ã—à–∏.

---

## API

```typescript
interface ClearFormattingPlugin {
  // –ò–º—è –ø–ª–∞–≥–∏–Ω–∞
  name: 'clearFormatting';

  // –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ—á–∏—Å—Ç–∫—É
  execute(editorElement: HTMLElement, options?: { mode?: ClearMode }): boolean;

  // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  setMode(mode: ClearMode): void;

  // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º
  getMode(): ClearMode;
}

enum ClearMode {
  LIGHT = 'light',   // –¢–æ–ª—å–∫–æ —Å—Ç–∏–ª–∏
  MEDIUM = 'medium', // –°—Ç–∏–ª–∏ + –∫–ª–∞—Å—Å—ã
  FULL = 'full'      // –í—Å—ë –∫—Ä–æ–º–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
}
```

---

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–Ω–µ –ª–æ–º–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–∞–∂–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã (href, src, alt)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—ã–±–æ—Ä–æ—á–Ω—É—é –æ—á–∏—Å—Ç–∫—É
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å —Å–∏—Å—Ç–µ–º–æ–π undo/redo

---

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –í—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã (Chrome, Firefox, Safari, Edge)
- ‚úÖ Angular 19+
- ‚úÖ TypeScript 5+

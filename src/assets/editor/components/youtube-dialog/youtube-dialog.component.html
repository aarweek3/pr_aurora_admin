<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
YOUTUBE DIALOG TEMPLATE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="youtube-dialog-overlay" (click)="onCancel()">
  <div class="youtube-dialog-content" (click)="$event.stopPropagation()">
    <div class="youtube-dialog-header">
      <h2>üì∫ –í—Å—Ç–∞–≤–∏—Ç—å YouTube –≤–∏–¥–µ–æ</h2>
      <button class="close-button" (click)="onCancel()" title="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
    </div>

    <div class="youtube-dialog-body">
      <!-- URL Input -->
      <div class="form-group">
        <label for="youtube-url">YouTube URL:</label>
        <input
          id="youtube-url"
          type="text"
          class="form-control"
          placeholder="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
          [(ngModel)]="youtubeUrl"
          (ngModelChange)="onUrlChange()"
          autofocus
        />
        <div class="form-help">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: youtube.com/watch?v=, youtu.be/, youtube.com/embed/</div>
      </div>

      <!-- Video Preview -->
      <div class="video-preview" *ngIf="videoId">
        <img [src]="getThumbnailUrl()" [alt]="'YouTube video ' + videoId" class="thumbnail" />
        <div class="video-id">ID: {{ videoId }}</div>
      </div>

      <!-- Settings -->
      <div class="settings-section" *ngIf="videoId">
        <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>

        <!-- Size Type -->
        <div class="form-group">
          <label>
            <input type="checkbox" [(ngModel)]="settings.responsive" />
            –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä (responsive)
          </label>
        </div>

        <!-- Fixed Size Settings -->
        <div class="size-settings" *ngIf="!settings.responsive">
          <div class="form-group">
            <label for="size-preset">–†–∞–∑–º–µ—Ä:</label>
            <select
              id="size-preset"
              class="form-control"
              [(ngModel)]="selectedPreset"
              (ngModelChange)="applyPreset($event)"
            >
              <option *ngFor="let preset of sizePresets" [value]="preset.name">
                {{ preset.label }}
              </option>
            </select>
          </div>

          <div class="size-inputs">
            <div class="form-group">
              <label for="width">–®–∏—Ä–∏–Ω–∞ (px):</label>
              <input id="width" type="number" class="form-control" [(ngModel)]="settings.width" min="200" max="2000" />
            </div>

            <div class="form-group">
              <label for="height">–í—ã—Å–æ—Ç–∞ (px):</label>
              <input
                id="height"
                type="number"
                class="form-control"
                [(ngModel)]="settings.height"
                min="150"
                max="1500"
              />
            </div>

            <button class="btn btn-secondary" (click)="maintainAspectRatio()" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ 16:9">
              üìê 16:9
            </button>
          </div>
        </div>

        <!-- Playback Options -->
        <div class="form-group">
          <h4>‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è</h4>
          <div class="checkbox-group">
            <label>
              <input type="checkbox" [(ngModel)]="settings.autoplay" />
              –ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
            </label>
            <label>
              <input type="checkbox" [(ngModel)]="settings.controls" />
              –ü–æ–∫–∞–∑–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            </label>
            <label>
              <input type="checkbox" [(ngModel)]="settings.loop" />
              –ó–∞—Ü–∏–∫–ª–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
            </label>
            <label>
              <input type="checkbox" [(ngModel)]="settings.mute" />
              –û—Ç–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫
            </label>
          </div>
        </div>

        <!-- Start Time -->
        <div class="form-group">
          <label for="start-time">–ù–∞—á–∞—Ç—å —Å (—Å–µ–∫—É–Ω–¥—ã):</label>
          <input
            id="start-time"
            type="number"
            class="form-control"
            [(ngModel)]="settings.startTime"
            min="0"
            placeholder="0"
          />
        </div>

        <!-- Title and Caption -->
        <div class="form-group">
          <label for="video-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
          <input
            id="video-title"
            type="text"
            class="form-control"
            [(ngModel)]="settings.title"
            placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫"
          />
        </div>

        <div class="form-group">
          <label for="video-caption">–ü–æ–¥–ø–∏—Å—å (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
          <textarea
            id="video-caption"
            class="form-control"
            [(ngModel)]="settings.caption"
            rows="2"
            placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –ø–æ–¥–ø–∏—Å—å"
          ></textarea>
        </div>

        <!-- Alignment -->
        <div class="form-group">
          <label>–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ:</label>
          <div class="radio-group">
            <label>
              <input type="radio" name="alignment" value="left" [(ngModel)]="settings.alignment" />
              –ü–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é
            </label>
            <label>
              <input type="radio" name="alignment" value="center" [(ngModel)]="settings.alignment" />
              –ü–æ —Ü–µ–Ω—Ç—Ä—É
            </label>
            <label>
              <input type="radio" name="alignment" value="right" [(ngModel)]="settings.alignment" />
              –ü–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é
            </label>
          </div>
        </div>
      </div>

      <!-- Error Message -->
      <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
    </div>

    <!-- Footer -->
    <div class="youtube-dialog-footer">
      <button class="btn btn-secondary" (click)="onCancel()">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn btn-primary" (click)="onInsert()" [disabled]="!isValid()">–í—Å—Ç–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ</button>
    </div>
  </div>
</div>

<dialog #dialog class="link-modal">
  <div class="modal-header">
    <h2>{{ existingUrl ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É' : '–°–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É' }}</h2>
    <button class="close-button" (click)="onCancel()" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
  </div>

  <div class="modal-body">
    <form (keydown)="onKeyDown($event)">
      <!-- –ü–æ–ª–µ URL -->
      <div class="form-group">
        <label for="url">URL:</label>
        <input
          #urlInput
          id="url"
          type="text"
          [(ngModel)]="url"
          (ngModelChange)="onUrlChange()"
          name="url"
          placeholder="https://example.com"
          [class.error]="validationError"
          autocomplete="url"
          spellcheck="false"
        />
        <div class="hint">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ø—Ä–æ—Ç–æ–∫–æ–ª—ã: http, https, mailto, tel</div>
      </div>

      <!-- –ü–æ–ª–µ —Ç–µ–∫—Å—Ç–∞ —Å—Å—ã–ª–∫–∏ -->
      <div class="form-group">
        <label for="linkText">–¢–µ–∫—Å—Ç —Å—Å—ã–ª–∫–∏:</label>
        <input
          id="linkText"
          type="text"
          [(ngModel)]="linkText"
          name="linkText"
          placeholder="–¢–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è"
          autocomplete="off"
        />
      </div>

      <!-- –ü–æ–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (title) -->
      <div class="form-group">
        <label for="linkTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–≤—Å–ø–ª—ã–≤–∞—é—â–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞):</label>
        <input
          id="linkTitle"
          type="text"
          [(ngModel)]="linkTitle"
          name="linkTitle"
          placeholder="–ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
          autocomplete="off"
        />
      </div>

      <!-- –ß–µ–∫–±–æ–∫—Å "–û—Ç–∫—Ä—ã–≤–∞—Ç—å –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ" -->
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input id="openInNewTab" type="checkbox" [(ngModel)]="openInNewTab" name="openInNewTab" />
          <span>–û—Ç–∫—Ä—ã–≤–∞—Ç—å –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ</span>
        </label>
      </div>

      <!-- –ß–µ–∫–±–æ–∫—Å "–†–∞–∑—Ä–µ—à–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é" -->
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input id="allowIndex" type="checkbox" [(ngModel)]="allowIndex" name="allowIndex" />
          <span>–†–∞–∑—Ä–µ—à–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –ø–æ–∏—Å–∫–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏</span>
        </label>
      </div>

      <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ -->
      <div *ngIf="validationError" class="validation-error">‚ùå {{ validationError }}</div>
    </form>
  </div>

  <div class="modal-footer">
    <div class="footer-left">
      <button *ngIf="existingUrl" class="unlink-button" (click)="onUnlink()" type="button">üîó‚õî –£–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫—É</button>
    </div>
    <div class="footer-right">
      <button class="cancel-button" (click)="onCancel()" type="button">–û—Ç–º–µ–Ω–∞</button>
      <button class="save-button" (click)="onSave()" type="button">
        {{ existingUrl ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å' : '–°–æ–∑–¥–∞—Ç—å' }}
      </button>
    </div>
  </div>
</dialog>
